{"version":3,"sources":["components/AppBar/index.js","components/Calendar/index.js","components/Container/index.js","components/Link/index.js","components/TabBar/index.js","components/Loader/index.js","components/Avatar/index.js","components/Paper/index.js","components/ContactItem/index.js","assets/images/cake.png","assets/images/dog.png","components/ContactList/index.js","graphql/queries.js","components/Button/index.js","assets/images/pageError.png","components/Error/index.js","services/pushNotifications.js","pages/App.js","components/BackButton/index.js","components/Input/index.js","components/Fieldset/index.js","components/ErrorMessage/index.js","graphql/mutations.js","components/AvatarEditor/index.js","pages/Add.js","components/BirthdateCard/index.js","pages/Profile.js","pages/Edit.js","pages/Settings.js","components/SearchBar/index.js","assets/images/search404.png","components/SearchList/index.js","pages/Search.js","context/AppProvider.js","components/GoogleButton/index.js","pages/Login.js","components/PrivateRoute/index.js","Routes.js","context/ApolloProvider.js","index.js"],"names":["AppBar","title","history","useHistory","goTo","link","push","className","aria-label","onClick","Calendar","variant","onChange","value","dates","startDate","Date","handleMonthChange","theta","date","val","nDate","getFullYear","getMonth","numOfDays","setDate","getDate","getDay","i","d","map","day","isEqual","date1","date2","join","getYear","dateToYMD","m","Container","rest","Link","to","pathname","useLocation","state","from","TabBar","useState","active","setActive","handleClick","n","Loader","viewBox","xmlns","fill","strokeWidth","strokeLinecap","cx","cy","r","Avatar","src","alt","Paper","diffDatestimeString","d1","d2","diff","undefined","Math","ceil","ContactItem","name","img","today","toLocaleString","month","ContactList","data","loading","length","_id","birthdate","picture","dogimg","FETCH_BIRDAYS_DATE_QUERY","gql","FETCH_BIRTHDAYS_MONTH_QUERY","FETCH_INDIVIDUAL_BY_ID_QUERY","FETCH_INDIVIDUAL_BY_NAME_QUERY","LIST_AVATARS_QUERY","Button","inactive","e","preventDefault","children","Error","swRegistration","subscription","error","action","window","func","btnText","go","errorimg","split","sentence","urlBase64ToUint8Array","base64String","base64","repeat","replace","rawData","atob","outputArray","Uint8Array","charCodeAt","isPushNotificationSupported","navigator","registerServiceWorker","serviceWorker","register","scope","getSubscription","pushManager","subscribeUser","a","subscribe","userVisibleOnly","applicationServerKey","updateSubscriptionOnServer","fetch","method","body","JSON","stringify","headers","console","warn","initializeSW","App","back","activeDate","setActiveDate","activeTab","setActiveTab","query","variables","useQuery","Intl","DateTimeFormat","weekday","format","monthName","message","getBirthdatesByDate","getBirthdatesByMonth","BackButton","goBack","Input","label","htmlFor","id","Fieldset","ErrorMessage","ADD_INDIVIDUAL_MUTATION","DELETE_INDIVIDUAL_BY_ID_MUTATION","UPDATE_INDIVIDUAL_BY_ID_MUTATION","AvatarEditor","onClose","setPicture","listAvatars","avatar","Add","errors","setErrors","values","setValues","showAvatarEditor","setShowA","useMutation","update","onError","err","graphQLErrors","extensions","addIndividual","handleChange","ev","target","p","onSubmit","Object","keys","placeholder","type","BirthdateCard","prototype","propTypes","string","instanceOf","Profile","useParams","delete","deleteIndividual","deleteLoading","getContactById","Edit","onCompleted","getRequestParams","updateIndividual","updateLoading","Settings","SearchBar","props","SearchList","toDisplay","URLSearchParams","search","get","getContactsByName","notfound","contact","Search","setValue","encodeURI","AppContext","createContext","token","appReducer","payload","AppProvider","useReducer","appState","dispatch","Provider","setAuthToken","useAppState","useContext","GoogleButton","Home","href","PrivateRoute","render","location","oneOf","arrayOf","node","withApollo","PageComponent","apolloClient","apolloState","pageProps","client","initialState","cache","InMemoryCache","restore","httpLink","createHttpLink","uri","requestLink","ApolloLink","operation","forward","Observable","observer","handle","Promise","resolve","then","setContext","authorization","next","bind","complete","catch","unsubscribe","tokenLink","TokenRefreshLink","accessTokenField","isTokenValidOrUndefined","exp","jwtDecode","now","fetchAccessToken","credentials","handleFetch","accessToken","handleError","ApolloClient","initApolloClient","setLoading","setError","useEffect","res","json","exact","path","ReactDOM","document","getElementById"],"mappings":"uXAwBeA,MApBf,YAA4B,IAAVC,EAAS,EAATA,MACRC,EAAUC,cACVC,EAAO,SAACC,GAAD,OAAQH,EAAQI,KAAKD,IAClC,OACI,sBAAKE,UAAU,UAAf,UACI,oBAAIA,UAAU,iBAAd,SAAgCN,IAChC,sBAAKM,UAAU,0BAAf,UACI,wBAAQC,aAAW,WAAWD,UAAU,eAAeE,QAAS,kBAAIL,EAAK,kBAAzE,SACI,sBAAMG,UAAU,iCAEpB,wBAAQC,aAAW,SAASD,UAAU,eAAeE,QAAS,kBAAIL,EAAK,gBAAvE,SACI,sBAAMG,UAAU,uC,MCZpC,SAASG,EAAT,GAAiD,IAA7BC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,SAAUC,EAAS,EAATA,MAE7BC,EAAQ,GACRC,EAAY,IAAIC,KAAKH,GAKrBI,EAAoB,SAACC,GACvB,IA4DaC,EAAMC,EA5DfC,GA4DSF,EA5DWN,EA4DLO,EA5DYF,EA6D5B,IAAIF,KAAKG,EAAKG,cAAeH,EAAKI,WAAWH,EAAK,IA5DrDR,EAASS,IAETG,EAAY,EACA,SAAZb,IACAI,EAAUU,QAAQ,GAClBD,EAAY,IAEhBT,EAAUU,QAAQV,EAAUW,UAAYX,EAAUY,UAClD,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAWI,IAAK,CAChC,IAAIC,EAAI,IAAIb,KAAKD,GACjBc,EAAEJ,QAAQI,EAAEH,UAAYE,GACxBd,EAAMR,KAAKuB,GAEf,OACI,sBAAKtB,UAAU,WAAf,UAEoB,SAAZI,GACI,sBAAKJ,UAAU,WAAf,UACI,wBAAQE,QAAS,kBAAIQ,GAAmB,IAAIV,UAAU,oBACtD,wBAAQE,QAAS,kBAAIQ,EAAkB,IAAIV,UAAU,wBAIjE,sBAAKA,UAAU,OAAf,UAhCS,CAAC,MAAO,MAAO,OAAQ,MAAO,MAAO,MAAO,OAiCvCuB,KAAI,SAACC,EAAKH,GAAN,OAAY,qBAAarB,UAAU,UAAvB,SAAkCwB,GAAxBH,MACnCd,EAAMgB,KAAI,SAACC,EAAKH,GAAN,OACV,qBAAanB,QAAS,WAhCf,IAACY,EACdW,EAAQnB,EADMQ,EAgCgCU,IA9BjDnB,EAASS,IA8B8Cd,UAAU,OAAxD,SACG,qBAAKA,UAAW,CAAC,cAShB0B,EAT0CF,EASnCG,EATwCrB,EAUzDoB,EAAMV,aAAeW,EAAMX,YAVoD,SAAZZ,EAAqB,GAAI,cAAaqB,EAAQD,EAAKlB,GAAS,eAAiB,IAAIsB,KAAK,KAAhJ,SACKJ,EAAIL,aAFFE,GAU3B,IAAqBK,EAAOC,WAG5B,SAASF,EAAQC,EAAOC,GACpB,OAAQD,EAAMG,YAAcF,EAAME,WAC7BH,EAAMV,aAAeW,EAAMX,YAC3BU,EAAMP,YAAcQ,EAAMR,UAWnC,SAASW,EAAUlB,GACf,IAAIU,EAAIV,EAAKO,UACTY,EAAInB,EAAKI,WAAa,EAE1B,OADQJ,EAAKG,cACG,KAAOgB,GAAG,EAAI,IAAMA,EAAIA,GAAK,KAAOT,GAAK,EAAI,IAAMA,EAAIA,G,yBCvD3DU,MAZhB,YAAmD,IAA/B5B,EAA8B,EAA9BA,QAASJ,EAAqB,EAArBA,UAAciC,EAAO,uCAC9C,OACI,iCAAKjC,UAAW,CAAC,YAAaA,EAAWI,GAASwB,KAAK,MAAUK,KCU1DC,MAZf,YAAyC,IAA1BC,EAAyB,EAAzBA,GAAInC,EAAqB,EAArBA,UAAciC,EAAO,kCAC7BG,EAAYC,cAAZD,SACP,OAAS,cAAC,IAAD,aAAYD,GAAI,CACrBC,SAAUD,EACVG,MAAO,CAAEC,KAAMH,IAChBpC,UAAW,CAAC,gBAAiBA,GAAW4B,KAAK,MAAUK,K,MCwB/CO,MA5Bf,YAA6B,IAAZnC,EAAW,EAAXA,SACb,EAA4BoC,mBAAS,GAArC,mBAAOC,EAAP,KAAeC,EAAf,KACMC,EAAc,SAACC,GACjBF,EAAUE,GACc,oBAAbxC,GAAyBA,EAASwC,IAEjD,OACI,sBAAK7C,UAAU,UAAf,UACI,wBAAQC,aAAW,OAAOC,QAAS,kBAAM0C,EAAY,IAAI5C,UAAW,CAAC,UAAsB,IAAX0C,EAAe,SAAW,IAAId,KAAK,KAAnH,SACI,sBAAM5B,UAAU,gBAEpB,qBAAKA,UAAU,UAAf,SACI,cAAC,EAAD,CAAMmC,GAAG,WAAT,SACI,wBAAQlC,aAAW,MAAMD,UAAU,OAAnC,SACI,sBAAMA,UAAU,qBAI5B,wBAAQC,aAAW,WAAWC,QAAS,kBAAM0C,EAAY,IAAI5C,UAAW,CAAC,UAAsB,IAAX0C,EAAe,SAAW,IAAId,KAAK,KAAvH,SACI,sBAAM5B,UAAU,wB,MCEjB8C,MAtBf,YAAuC,IAAtB9C,EAAqB,EAArBA,UAAciC,EAAO,6BAClC,OACI,8CAAKjC,UAAW,CAAC,SAAUA,GAAW4B,KAAK,MAAUK,GAArD,cACI,qBAAKc,QAAQ,YAAYC,MAAM,6BAA/B,SACI,wBAAQhD,UAAU,SAASiD,KAAK,OAAOC,YAAY,IAAIC,cAAc,QAAQC,GAAG,KAAKC,GAAG,KAAKC,EAAE,SAEnG,qBAAKP,QAAQ,YAAYC,MAAM,6BAA/B,SACI,wBAAQC,KAAK,OAAOC,YAAY,IAAIC,cAAc,QAAQC,GAAG,KAAKC,GAAG,KAAKC,EAAE,SAEhF,qBAAKP,QAAQ,YAAYC,MAAM,6BAA/B,SACI,wBAAQC,KAAK,OAAOC,YAAY,IAAIC,cAAc,QAAQC,GAAG,KAAKC,GAAG,KAAKC,EAAE,SAEhF,qBAAKP,QAAQ,YAAYC,MAAM,6BAA/B,SACI,wBAAQC,KAAK,OAAOC,YAAY,IAAIC,cAAc,QAAQC,GAAG,KAAKC,GAAG,KAAKC,EAAE,c,MCG5EC,MAhBhB,YAA8C,IAA5BnD,EAA2B,EAA3BA,QAASoD,EAAkB,EAAlBA,IAAKxD,EAAa,EAAbA,UAC5B,OACI,qBAAKA,UAAW,CAAC,SAAUI,EAASJ,GAAW4B,KAAK,KAApD,SACI,qBAAK6B,IAAI,kBAAkBzD,UAAU,cAAcwD,IAAKA,O,MCMrDE,MATf,YAAsC,IAAtB1D,EAAqB,EAArBA,UAAciC,EAAO,6BACjC,OACI,iCAAKjC,UAAW,CAAC,QAASA,GAAW4B,KAAK,MAAUK,K,MCqB5D,SAAS0B,EAAoBjC,EAAOC,GAChC,IAAMiC,EAAK,IAAInD,KAAK,IAAKiB,EAAMV,WAAYU,EAAMP,WAC3C0C,EAAK,IAAIpD,KAAK,IAAKkB,EAAMX,WAAYW,EAAMR,WAC3CK,EAAM,MACRsC,OAAOC,EAMX,OAJGD,EADAF,GAAMC,EACEA,EAAKD,EAEJ,IAAMpC,GAAQoC,EAAKC,KAEpB,GAAKrC,EACLwC,KAAKC,KAAMH,EAAKtC,GAAQ,IACzBsC,GAAQ,IAAMtC,GACVsC,GAAe,GAANtC,GAAc,GAAK,IAE/B,KAQA0C,MA3Cf,YAA2C,IAApBC,EAAmB,EAAnBA,KAAMvD,EAAa,EAAbA,KAAMwD,EAAO,EAAPA,IAC3BC,EAAQ,IAAI5D,KAChB,OACI,eAAC,EAAD,CAAOT,UAAU,eAAjB,UACI,cAAC,EAAD,CAAQwD,IAAKY,EAAKhE,QAAQ,OAC1B,sBAAKJ,UAAU,+BAAf,UACI,qBAAKA,UAAU,aAAf,SAA6BmE,IAC7B,sBAAKnE,UAAU,OAAf,UACKY,EAAK0D,eAAe,UAAW,CAAEC,MAAO,SAD7C,IACyD3D,EAAKO,UAD9D,KAC2EP,EAAKG,oBAI/EsD,EAAMrD,aAAeJ,EAAKI,YAAcqD,EAAMlD,YAAcP,EAAKO,UACjE,qBAAKqC,ICnBP,6+HDmBkBC,IAAI,OAAOzD,UAAU,6BACrC,qBAAKA,UAAU,WAAf,SAA2B2D,EAAoBU,EAAOzD,SEpBxD,MAA0B,gC,MCsC1B4D,I,UAAAA,EA/Bf,YAAyC,IAAlBC,EAAiB,EAAjBA,KACnB,OADoC,EAAXC,QAEb,cAAC,EAAD,KAEZ,OAAID,QAAJ,IAAIA,OAAJ,EAAIA,EAAME,QACCF,EAAKlD,KAAI,YAAwC,IAArCqD,EAAoC,EAApCA,IAAKT,EAA+B,EAA/BA,KAAMU,EAAyB,EAAzBA,UAAWC,EAAc,EAAdA,QAC/BlE,EAAO,IAAIH,KAAKoE,GACtB,OACI,cAAC,EAAD,CAAgB1C,GAAE,iBAAYyC,GAA9B,SACI,cAAC,EAAD,CAAaT,KAAMA,EAAMvD,KAAMA,EAAMwD,IAAKU,KADnCF,MAQf,sBAAK5E,UAAU,sBAAf,UACI,qBAAKA,UAAU,QAAQwD,IAAKuB,EAAQtB,IAAI,QACxC,oBAAIzD,UAAU,QAAd,sCACA,qBAAIA,UAAU,YAAd,8BACqB,uBADrB,+B,wBCxBHgF,EAA2BC,YAAH,mNAUxBC,EAA8BD,YAAH,oNAU3BE,EAA+BF,YAAH,mLAU5BG,EAAiCH,YAAH,oNAU9BI,EAAqBJ,YAAH,oE,MCfhBK,MAxBf,YAAwD,IAAvCZ,EAAsC,EAAtCA,QAASxE,EAA6B,EAA7BA,QAASqF,EAAoB,EAApBA,SAAatD,EAAO,gDAOnD,OACI,gDAAQjC,UAAW,CAAC,MAAO0E,EAAS,UAAW,KAAMa,EAAU,WAAY,MAAM3D,KAAK,KAAM1B,QAP5E,SAACsF,GACjB,OAAGd,GACAa,EADgBC,EAAEC,sBAEC,oBAAZvF,GACVA,EAAQsF,MAG8GvD,GAAtH,aACI,qBAAKjC,UAAU,WAAf,SACK0E,EACA,eAAC,WAAD,WACG,wBAAM,wBAAM,wBAAM,2BAErBzC,EAAKyD,eCjBP,MAA0B,sC,MCyC1BC,ICzCXC,EACAC,EDwCWF,EAnCf,YAAmC,IAAlBG,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,OACdpG,EAAUC,eAAgBoG,OAAOrG,QACnCsG,EAAO,KAAMC,EAAU,GAC3B,OAAQH,GACJ,IAAK,OACDE,EAAO,kBAAMtG,EAAQI,KAAK,SAC1BmG,EAAU,UACV,MACJ,IAAK,SACL,QACID,EAAO,kBAAMtG,EAAQwG,GAAG,IACxBD,EAAU,SAElB,OACI,sBAAKlG,UAAU,kBAAf,UACI,qBAAKA,UAAU,cAAf,SACI,qBAAKyD,IAAI,QAAQD,IAAK4C,MAE1B,oBAAIpG,UAAU,cAAd,oBACA,mBAAGA,UAAU,aAAb,SAA2B8F,EAAMO,MAAM,KAAK9E,KAAI,SAAC+E,EAAUjF,GAAX,OAAe,iCAAeiF,EAAf,MAAWjF,QAC1E,qBAAKrB,UAAU,gBAAf,SACI,cAAC,EAAD,CAAQE,QAAS+F,EAAjB,SAAwBC,U,yBCzBxC,SAASK,EAAsBC,GAS3B,IARA,IACMC,GAAUD,EADA,IAAIE,QAAQ,EAAIF,EAAa7B,OAAS,GAAK,IAEtDgC,QAAQ,KAAM,KACdA,QAAQ,KAAM,KAEbC,EAAUZ,OAAOa,KAAKJ,GACtBK,EAAc,IAAIC,WAAWH,EAAQjC,QAElCtD,EAAI,EAAGA,EAAIuF,EAAQjC,SAAUtD,EAClCyF,EAAYzF,GAAKuF,EAAQI,WAAW3F,GAExC,OAAOyF,EAEX,SAASG,IACL,MAAO,kBAAmBC,WAAa,gBAAiBlB,OAE5D,SAASmB,IACL,OAAOD,UAAUE,cAAcC,SAAkC,SAAU,CACvEC,MAAO,MAGf,SAASC,IAAmB,IAAD,IACvB,iBAAO3B,SAAP,iBAAO,EAAgB4B,mBAAvB,aAAO,EAA6BD,kB,SAEzBE,I,2EAAf,8BAAAC,EAAA,4DAC+B,0FAD/B,4BAEW9B,SAFX,iBAEW,EAAgB4B,mBAF3B,aAEW,EAA6BG,UAAU,CAC1CC,iBAAiB,EACjBC,qBAAsBtB,EAHC,8FAD/B,4C,sBAOA,SAASuB,EAA2BjC,GAChC,OAAOkC,MAAM,kBAAmB,CAC5BC,OAAQ,OACRC,KAAMC,KAAKC,UAAUtC,GACrBuC,QAAS,CACL,eAAgB,sB,8CAIrB,sBAAAV,EAAA,0DACCT,IADD,0CAG4BE,IAH5B,OAGKvB,EAHL,8EAKsB2B,IALtB,WAMsB,QADrB1B,EALD,cAM+C9B,IAAjB8B,EAN9B,4CAQ8B4B,IAR9B,QASSK,EADAjC,EART,2FAaCwC,QAAQC,KAAK,mCAbd,kE,6BAAA,WAAP,yBCMAC,GAEeC,IChDXC,GDgDWD,GAxCf,WACI,MAAoC/F,mBAAS,IAAIhC,MAAjD,mBAAOiI,EAAP,KAAmBC,EAAnB,KACA,EAAoClG,mBAAS,GAA7C,mBAAQmG,EAAR,KAAmBC,EAAnB,KACIC,EAAQ9D,EACR+D,EAAY,CAAEnI,KAAM8H,GACP,IAAdE,IACCE,EAAQ5D,EAER6D,EAAY,CAACxE,MADCmE,EAAW1H,aAG7B,IhBoCmBJ,EgBpCnB,EAAiCoI,mBAASF,EAAO,CAAEC,cAA3CrE,EAAR,EAAQA,QAASD,EAAjB,EAAiBA,KAAMqB,EAAvB,EAAuBA,MAWjBpG,EAAsB,IAAdkJ,EhB2BXnH,EAFgBb,EgBzByB8H,EhB0BpC,IAAIjI,MACgB,QACrB,IAAIwI,KAAKC,eAAe,QAAS,CAACC,QAAS,SAASC,OAAOxI,GAEtE,SAAmBA,GAEf,OADkB,IAAIqI,KAAKC,eAAe,KAAM,CAAE3E,MAAO,UACxC6E,OAAOxI,GgBhCkCyI,CAAUX,GAAc,IAAMA,EAAW3H,cACnG,OAAG+E,EAAe,cAAC,EAAD,CAAOA,MAAOA,EAAMwD,UAElC,sBAAKtJ,UAAU,MAAf,UACI,eAAC,EAAD,WACI,cAAC,EAAD,CAAQN,MAAOA,IACf,cAACS,EAAD,CAAUC,QAAuB,IAAdwI,EAAkB,OAAS,UAAWtI,MAAOoI,EAAYrI,SAZ/D,SAACO,GACtB+H,EAAc/H,SAaV,sBAAMZ,UAAU,OAAhB,SACI,qBAAKA,UAAU,0BAAf,SACI,cAAC,EAAD,CAAayE,MAAU,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAM8E,uBAAN,OAA6B9E,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAM+E,uBAAwB,GAAI9E,QAASA,QAGnG,cAAC,EAAD,CAAQrE,SAvBQ,SAACwC,GACZ,IAANA,GAAS8F,EAAc,IAAIlI,MAC9BoI,EAAahG,U,gBCpBrB,SAAS4G,KACL,IAAM9J,EAAUC,cACR0C,EAAUD,cAAVC,MAQR,OAPAmG,GAAO,YACH,OAAGnG,QAAH,IAAGA,OAAH,EAAGA,EAAOC,MACN5C,EAAQ+J,SAER/J,EAAQI,KAAK,SAIjB,wBAAQE,aAAW,OAAOC,QAASuI,GAAMzI,UAAU,WAAnD,SACI,sBAAMA,UAAU,6B,OCAb2J,OAbf,YAAyC,IAAzBC,EAAwB,EAAxBA,MAAO9D,EAAiB,EAAjBA,MAAU7D,EAAO,iCACpC,OACI,sBAAKjC,UAAW8F,EAAM,QAAQ,GAA9B,UACI,uBAAO+D,QAAO,UAAKD,EAAL,MAAgB5J,UAAU,QAAxC,SAAiD4J,IACjD,mCAAOE,GAAE,UAAKF,EAAL,MAAgB5J,UAAU,SAAYiC,Q,OCS5C8H,OAbf,YAA2C,IAAvB/J,EAAsB,EAAtBA,UAAW0F,EAAW,EAAXA,SAC3B,OACI,0BAAU1F,UAAW,CAAC,WAAYA,GAAW4B,KAAK,KAAlD,SACM8D,K,OCKCsE,I,SAAAA,GARf,YAA6C,IAAtBhK,EAAqB,EAArBA,UAAciC,EAAO,6BACxC,OACI,iCAAKjC,UAAW,CAAC,YAAaA,GAAW4B,KAAK,MAAUK,KCHnDgI,GAA0BhF,YAAH,mMAOvBiF,GAAmCjF,YAAH,gHAOhCkF,GAAmClF,YAAH,qO,OCqC9BmF,OA5CO,YAAqD,IAA7BC,EAA4B,EAA5BA,QAAShK,EAAmB,EAAnBA,SAAUC,EAAS,EAATA,MAC7D,EAAiC0I,mBAAS3D,GAAlCZ,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAASoB,EAAvB,EAAuBA,MACvB,EAA8BrD,mBAASnC,GAAvC,mBAAOwE,EAAP,KAAgBwF,EAAhB,KAKA,OAAI5F,EAAiB,cAAC,EAAD,IACjBoB,EAAe,cAAC,EAAD,CAAOA,MAAOA,IAK7B,qBAAK9F,UAAU,gBAAf,SACI,eAAC,EAAD,CAAWI,QAAQ,QAAnB,UACI,qBAAKJ,UAAU,sBAAf,SACI,wBAAQA,UAAU,eAAlB,SACI,sBAAME,QAASmK,EAASrK,UAAU,0BAG1C,cAAC,EAAD,CAAQwD,IAAKsB,EAAS9E,UAAU,SAASI,QAAQ,OACjD,qBAAKJ,UAAU,oBAAf,UAESyE,EAAK8F,aAAe,IAAIhJ,KAAI,SAACmG,EAAGrG,GAAJ,OACxB,sBAAMrB,UAAW8E,IAAY4C,EAAG,SAAS,GAAYxH,SAfxDsK,EAe8E9C,EAfnE,WAC7B4C,EAAWE,KAcU,SACG,cAAC,EAAD,CAAQxK,UAAU,SAASI,QAAQ,KAAKoD,IAAKkE,KADErG,GAftD,IAACmJ,OAqBV,qBAAKxK,UAAU,gBAAf,SACI,cAAC,EAAD,CAAQE,QA5BJ,SAACsF,GACjBnF,EAASyE,GACTuF,KA0B0C9E,SAAUjF,IAAUwE,EAAlD,0BC7BL,SAAS2F,KACpB,MAA4BhI,mBAAS,IAArC,mBAAOiI,EAAP,KAAeC,EAAf,KACA,EAA4BlI,mBAAS,CAAE0B,KAAM,GAAIvD,KAAM,GAAIkE,QAAS,eAApE,mBAAO8F,EAAP,KAAeC,EAAf,KACA,EAAqCpI,oBAAS,GAA9C,mBAAOqI,EAAP,KAAyBC,EAAzB,KACA,EAAqCC,sBAAYf,GAAyB,CACtEgB,OADsE,WAC3DxC,MACXyC,QAFsE,SAE9DC,GACJR,EAAUQ,EAAIC,cAAc,GAAGC,WAAWX,SAE9C3B,UAAW,CACP5E,KAAMyG,EAAOzG,KACbvD,KAAMgK,EAAOhK,KAAK+F,QAAQ,KAAM,KAChC7B,QAAS8F,EAAO9F,WARxB,mBAAOwG,EAAP,KAAwB5G,EAAxB,KAAwBA,QAWlB6G,EAAe,SAACC,GAClBX,EAAU,2BAAKD,GAAN,mBAAeY,EAAGC,OAAOtH,KAAOqH,EAAGC,OAAOnL,UAUvD,OAAGwK,EACS,cAAC,GAAD,CAAcxK,MAAOsK,EAAO9F,QAASuF,QAAS,kBAAIU,GAAS,IAAQ1K,SAAU,SAACqL,GAAD,OAAKb,EAAU,2BAAID,GAAL,IAAa9F,QAAQ4G,QAGxH,qBAAK1L,UAAU,MAAf,SACI,eAAC,EAAD,CAAWI,QAAQ,QAAnB,UACI,cAACqJ,GAAD,IACA,sBAAMkC,SAfG,SAACH,GAClBA,EAAG/F,iBACH6F,KAasCtL,UAAU,WAAxC,SACI,eAAC,EAAD,WAES4L,OAAOC,KAAKnB,GAAQ/F,OAAS,GAC1B,cAAC,GAAD,CAAc3E,UAAU,SAAxB,SACI,6BACK4L,OAAOhB,OAAOF,GAAQnJ,KAAI,SAACjB,EAAOe,GAAR,OAAc,6BAAaf,GAAJe,UAKlE,cAAC,EAAD,CAAQjB,QAAQ,KAAKoD,IAAKoH,EAAO9F,QAAS9E,UAAU,WACpD,cAAC,GAAD,CAAUA,UAAU,cAApB,SACI,yBAAQE,QAxBJ,SAACsF,GACzBA,EAAEC,iBACFsF,GAAS,IAsBgD/K,UAAU,cAA/C,UACI,sBAAMA,UAAU,cADpB,oBAIJ,cAAC,GAAD,UACI,cAAC,GAAD,CAAO8F,QAAO4E,EAAOvG,KAAqB9D,SAAUkL,EAAcjL,MAAOsK,EAAOzG,KAAMyF,MAAM,OAAOzF,KAAK,OAAO2H,YAAY,mBAE/H,cAAC,GAAD,UACI,cAAC,GAAD,CAAOhG,QAAO4E,EAAO7F,UAA0BxE,SAAUkL,EAAcjL,MAAOsK,EAAOhK,KAAMmL,KAAK,OAAO5H,KAAK,OAAOyF,MAAM,gBAE7H,qBAAK5J,UAAU,mBAAf,SACI,cAAC,EAAD,CAAQ0E,QAASA,EAAjB,6B,+BChE5B,SAASsH,GAAT,GAAoD,IAA5BhM,EAA2B,EAA3BA,UAAWY,EAAgB,EAAhBA,KAASqB,EAAO,oCAC/C,OACI,eAAC,EAAD,yBAAOjC,UAAW,CAAC,gBAAiBA,GAAW4B,KAAK,MAAUK,GAA9D,cACI,sBAAKjC,UAAU,uBAAf,UACI,sBAAMA,UAAU,kBADpB,eAIA,gCACCY,EAAK0D,eAAe,UAAW,CAAEC,MAAO,SADzC,IACqD3D,EAAKO,UAD1D,KACuEP,EAAKG,qBAKxFiL,GAAcC,UAAY,CACtBjM,UAAWkM,KAAUC,OACrBvL,KAAMsL,KAAUE,WAAW3L,OAEhBuL,UCPA,SAASK,KAAW,IAAD,MACtBvC,EAAOwC,cAAPxC,GACR,EAA4BrH,mBAAS,CAAE8J,OAAQ,KAAMzD,MAAO,OAA5D,mBAAO4B,EAAP,KAAeC,EAAf,KACA,EAA0B3B,mBAAS7D,EAA8B,CAC7D+F,QAD6D,SACrD1F,GACJmF,EAAU,CAAE7B,MAAOtD,EAAE8D,WAEzBP,UAAW,CAAEe,QAJTrF,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAMd,EAAuDsG,sBAAYd,GAAkC,CACjGe,OADiG,WAE7FxC,MAEJM,UAAW,CAAEe,QAJjB,mBAAO0C,EAAP,KAAoCC,EAApC,KAA2B/H,QAM3B,GAAIA,EAAS,OAAQ,cAAC,EAAD,IACrB,GAAIgG,EAAO5B,MAAO,OAAQ,cAAC,EAAD,CAAOhD,MAAO4E,EAAO5B,QAC/C,IAAMlI,EAAO,IAAIH,KAAJ,OAASgE,QAAT,IAASA,GAAT,UAASA,EAAMiI,sBAAf,aAAS,EAAsB7H,WAC5C,OACI,qBAAK7E,UAAU,UAAf,SACI,eAAC,EAAD,CAAWI,QAAQ,QAAnB,UACI,cAACqJ,GAAD,IACA,eAAC,EAAD,WACI,cAAC,EAAD,CAAQrJ,QAAQ,KAAKJ,UAAU,SAASwD,IAAG,OAAEiB,QAAF,IAAEA,GAAF,UAAEA,EAAMiI,sBAAR,aAAE,EAAsB5H,UACnE,qBAAK9E,UAAU,aAAf,SACI,cAAC,EAAD,CAAMmC,GAAE,oBAAe2H,GAAM9J,UAAU,OAAvC,sBAEJ,sBAAKA,UAAU,qBAAf,UACI,qBAAIA,UAAU,QAAd,qBAAwByE,QAAxB,IAAwBA,GAAxB,UAAwBA,EAAMiI,sBAA9B,aAAwB,EAAsBvI,KAA9C,OACA,qBAAInE,UAAU,YAAd,sBAAoC,IAAIS,KAAK,IAAIA,KAASG,GAAMG,cAAgB,KAAhF,UACA,cAAC,GAAD,CAAeH,KAAMA,EAAMZ,UAAU,YACrC,qBAAKA,UAAU,mBAAf,SACI,cAAC,EAAD,CAAQE,QAASsM,EAAkB9H,UAAS+H,EAA5C,iCC9Bb,SAASE,KAAQ,IAAD,IACnB7C,EAAOwC,cAAPxC,GACR,EAA4BrH,mBAAS,CAAEwI,OAAQ,GAAInC,MAAO,OAA1D,mBAAO4B,EAAP,KAAeC,EAAf,KACA,EAA4BlI,mBAAS,CAAE0B,KAAM,GAAIvD,KAAM,GAAIkE,QAAS,eAApE,mBAAO8F,EAAP,KAAeC,EAAf,KACA,EAAqCpI,oBAAS,GAA9C,mBAAOqI,EAAP,KAAyBC,EAAzB,KACA,EAA0B/B,mBAAS7D,EAA8B,CAC7DyH,YAD6D,SACjDnI,GAAO,IAAD,MACdoG,EAAU,CACN1G,KAAI,OAAEM,QAAF,IAAEA,GAAF,UAAEA,EAAMiI,sBAAR,aAAE,EAAsBvI,KAC5BvD,KAAI,OAAE6D,QAAF,IAAEA,GAAF,UAAEA,EAAMiI,sBAAR,aAAE,EAAsB7H,UAC5BC,QAAO,OAAEL,QAAF,IAAEA,GAAF,UAAEA,EAAMiI,sBAAR,aAAE,EAAsB5H,WAGvCoG,QAR6D,SAQrD1F,GACJmF,EAAU,CAAE7B,MAAOtD,EAAE8D,WAEzBP,UAAW,CAAEe,QAXTrF,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAad,EAAuDsG,sBAAYb,GAAkC,CACjGc,OADiG,WAE7FxC,MAEJyC,QAJiG,SAIzFC,GAAM,IAAD,EACTR,EAAU,CAAEM,OAAM,OAAEE,QAAF,IAAEA,GAAF,UAAEA,EAAKC,cAAc,UAArB,aAAE,EAAuBC,WAAWX,UAE1D3B,UAEJ,WAA6B,IAAD,MAK6B,EAJjDlE,EAAY,KACZV,EAAO,KACPW,EAAU,KACV8F,EAAOzG,QAAP,OAAgBM,QAAhB,IAAgBA,GAAhB,UAAgBA,EAAMiI,sBAAtB,aAAgB,EAAsBvI,QAAQA,EAAOyG,EAAOzG,MAC5DyG,EAAOhK,QAAP,OAAgB6D,QAAhB,IAAgBA,GAAhB,UAAgBA,EAAMiI,sBAAtB,aAAgB,EAAsB7H,aACtCA,EAAS,UAAG+F,EAAOhK,YAAV,aAAG,EAAa+F,QAAQ,KAAM,MAExCiE,EAAO9F,WAAP,OAAmBL,QAAnB,IAAmBA,GAAnB,UAAmBA,EAAMiI,sBAAzB,aAAmB,EAAsB5H,WACxCA,EAAU8F,EAAO9F,SAErB,MAAO,CAAEgF,KAAIjF,YAAWV,OAAMW,WAbnB+H,KAPf,mBAAOC,EAAP,KAAoCC,EAApC,KAA2BrI,QAsB3B,IAAM6G,EAAe,SAACC,GAClBX,EAAU,2BAAKD,GAAN,mBAAeY,EAAGC,OAAOtH,KAAOqH,EAAGC,OAAOnL,UAUvD,OAAIoK,EAAO5B,MAAe,cAAC,EAAD,CAAOhD,MAAO4E,EAAO5B,QAC3CpE,EAAiB,cAAC,EAAD,IAClBoG,EACS,cAAC,GAAD,CAAcxK,MAAOsK,EAAO9F,QAASuF,QAAS,kBAAIU,GAAS,IAAQ1K,SAAU,SAACqL,GAAD,OAAKb,EAAU,2BAAID,GAAL,IAAa9F,QAAQ4G,QAGxH,qBAAK1L,UAAU,OAAf,SACI,eAAC,EAAD,CAAWI,QAAQ,QAAnB,UACI,cAACqJ,GAAD,IACA,sBAAMkC,SAjBG,SAACH,GAClBA,EAAG/F,iBACHqH,KAesC9M,UAAU,YAAxC,SACI,eAAC,EAAD,WAES4L,OAAOC,MAAW,OAANnB,QAAM,IAANA,OAAA,EAAAA,EAAQO,SAAU,IAAItG,OAAS,GACxC,cAAC,GAAD,CAAc3E,UAAU,SAAxB,SACI,6BACK4L,OAAOhB,OAAOF,EAAOO,QAAQ1J,KAAI,SAACjB,EAAOe,GAAR,OAAc,6BAAaf,GAAJe,UAKzE,cAAC,EAAD,CAAQjB,QAAQ,KAAKoD,IAAKoH,EAAO9F,QAAS9E,UAAU,WACpD,cAAC,GAAD,CAAUA,UAAU,cAApB,SACI,yBAAQE,QA1BJ,SAACsF,GACzBA,EAAEC,iBACFsF,GAAS,IAwBgD/K,UAAU,cAA/C,UACI,sBAAMA,UAAU,cADpB,oBAIJ,cAAC,GAAD,UACI,cAAC,GAAD,CAAO8F,SAAa,OAAN4E,QAAM,IAANA,GAAA,UAAAA,EAAQO,cAAR,eAAgB9G,MAAqB9D,SAAUkL,EAAcjL,MAAOsK,EAAOzG,KAAMyF,MAAM,OAAOzF,KAAK,OAAO2H,YAAY,mBAExI,cAAC,GAAD,UACI,cAAC,GAAD,CAAOhG,SAAa,OAAN4E,QAAM,IAANA,GAAA,UAAAA,EAAQO,cAAR,eAAgBpG,WAA0BxE,SAAUkL,EAAcjL,MAAOwB,EAAU,IAAIrB,KAAKmK,EAAOhK,OAAQmL,KAAK,OAAO5H,KAAK,OAAOyF,MAAM,gBAE3J,qBAAK5J,UAAU,mBAAf,SACI,cAAC,EAAD,CAAQ0E,QAASqI,EAAjB,gCCjGb,SAASC,KACpB,OACI,8BACI,cAAC,EAAD,CAAW5M,QAAQ,QAAnB,SACI,cAACqJ,GAAD,Q,OCLD,SAASwD,GAAUC,GAC9B,OACI,wBAAOlN,UAAU,aAAjB,UACI,sBAAMA,UAAU,gBAChB,mCAAO+L,KAAK,UAAcmB,OCNvB,WAA0B,sC,OCS1B,SAASC,KACpB,IAIIC,EAJEtE,EAAQ,IAAIuE,gBAAgBhL,cAAciL,QAAQC,IAAI,KAC5D,EAA0BvE,mBAAS5D,EAAgC,CAC/D2D,UAAW,CAAE5E,KAAO2E,KADhBrE,EAAR,EAAQA,KAIR,OAJA,EAAcC,QAIO,cAAC,EAAD,IACjBoE,IAAa,OAAJrE,QAAI,IAAJA,OAAA,EAAAA,EAAM+I,kBAAkB7I,QAAS,EAEtC,sBAAK3E,UAAU,wBAAf,UACI,qBAAKA,UAAU,QAAQyD,IAAI,YAAYD,IAAKiK,KAC5C,sEAAwC,uCAAU3E,EAAV,UACxC,mBAAG9I,UAAU,YAAb,+DAKD8I,GAASrE,EAAK+I,kBAAkB7I,QAAU,IACjDyI,EAAY3I,EAAK+I,kBAAkBjM,KAAI,SAACmM,EAASrM,GAC7C,IAAIT,EAAO,IAAIH,KAAKiN,EAAQ7I,WAC5B,OACI,cAAC,EAAD,CAAc7E,UAAU,gBAAgBmC,GAAE,iBAAYuL,EAAQ9I,KAA9D,SACI,cAAC,EAAD,CAAaT,KAAMuJ,EAAQvJ,KAAMvD,KAAMA,EAAMwD,IAAKsJ,EAAQ5I,WADnDzD,OAMnB,qBAAKrB,UAAU,iBAAf,SACKoN,KC9BE,SAASO,KACpB,IAAM7E,EAAQ,IAAIuE,gBAAgBhL,cAAciL,QAAQC,IAAI,KACtD5N,EAAUC,cAChB,EAA0B6C,mBAASqG,GAAO,IAA1C,mBAAOxI,EAAP,KAAcsN,EAAd,KAWA,OACI,qBAAK5N,UAAU,SAAf,SACI,eAAC,EAAD,CAAWI,QAAQ,QAAnB,UACI,cAACqJ,GAAD,IACA,uBAAMzB,OAAO,MAAM2D,SAXV,SAACH,GAClBA,EAAG/F,iBACH9F,EAAQI,KAAK,CACZqC,SAAS,cACTkL,OAAO,MAAD,OAAWO,UAAUvN,OAOuBN,UAAU,cAArD,UACI,cAACiN,GAAD,CAAW3M,MAAOA,EAAO6D,KAAK,IAAI9D,SAf7B,SAACmL,GAClBoC,EAASpC,EAAGC,OAAOnL,QAcmDwL,YAAY,gBACrEhD,GAAQ,cAACqE,GAAD,YCzB7B,IAAMW,GAAaC,wBAAc,CAC7BC,MAAO,OAELC,GAAa,SAAC3L,EAAOyD,GACvB,OAAOA,EAAOgG,MACV,IAAK,eACD,OAAO,2BACAzJ,GADP,IAEI0L,MAAOjI,EAAOmI,UAEtB,QACI,OAAO5L,IAGb6L,GAAc,SAAC,GAAe,IAAdzI,EAAa,EAAbA,SAClB,EAA6B0I,qBAAWH,GAAY,CAAED,MAAO,OAA7D,mBAAOK,EAAP,KAAiBC,EAAjB,KAIA,OACI,cAACR,GAAWS,SAAZ,CAAqBjO,MAAO,CAAC+N,WAAUG,aAJtB,SAACR,GAClBM,EAAS,CAACvC,KAAM,eAAgBmC,QAASF,MAGzC,SACKtI,KAIP+I,GAAc,kBAAMC,qBAAWZ,K,OCzBtB,SAASa,KACpB,OACI,yBAAQ5C,KAAK,SAAS/L,UAAU,gBAAhC,UACI,sBAAMA,UAAU,sBAAhB,SACI,sBAAK+C,QAAQ,cAAcC,MAAM,6BAAjC,UAA8D,sBAAM1B,EAAE,uRAAuRwI,GAAG,QAAQ7G,KAAK,YAAY,sBAAM3B,EAAE,sJAAsJwI,GAAG,QAAQ7G,KAAK,YAAY,sBAAM3B,EAAE,iJAAiJwI,GAAG,QAAQ7G,KAAK,YAAY,sBAAM3B,EAAE,+QAA+Q2B,KAAK,iBAExgC,sBAAMjD,UAAU,sBAAhB,oCCHG,SAAS4O,KACpB,IAAQP,EAAaI,KAAbJ,SACA/L,EAAUD,cAAVC,MACR,OAAI+L,EAASL,MACF,cAAC,IAAD,CAAU7L,IAAS,OAALG,QAAK,IAALA,OAAA,EAAAA,EAAOC,OAAQ,SAGpC,qBAAKvC,UAAU,QAAf,SACI,eAAC,EAAD,CAAWA,UAAU,cAArB,UACI,yCACA,mBAAGA,UAAU,gBAAgB6O,KAAK,cAAlC,SACI,cAACF,GAAD,WCZpB,SAASG,GAAT,GAA2C,IAApBpJ,EAAmB,EAAnBA,SAAazD,EAAM,4BAC/BoM,EAAYI,KAAZJ,SACP,OACI,cAAC,IAAD,2BAAWpM,GAAX,IAAiB8M,OAAQ,YAAmB,IAAhBC,EAAe,EAAfA,SAC1B,OAAOX,EAASL,MACZtI,EACA,cAAC,IAAD,CAAUvD,GAAI,CAACC,SAAU,aAAcE,MAAM,CAAEC,KAAMyM,UAKnEF,GAAa7C,UAAY,CACvBvG,SAAUwG,KAAU+C,MAAM,CACxB/C,KAAUgD,QAAQhD,KAAUiD,MAC5BjD,KAAUiD,QAGCL,U,kBCyCAM,OCSI,SAACC,GAiBlB,OAhBmB,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,aAAcC,EAAgC,EAAhCA,YAAgBC,EAAgB,8CAClE,EAAmCf,KAA3BJ,EAAR,EAAQA,SAAUG,EAAlB,EAAkBA,aACZiB,EACJH,GAvEmB,WAA6C,IAA5CI,EAA2C,uDAA5B,GAAI1B,EAAwB,uCAAjBQ,EAAiB,uCAC7DmB,GAAQ,IAAIC,iBAAgBC,QAAQH,GAEpCI,EAAWC,yBAAe,CAC9BC,IAAK,aAGDC,EAAc,IAAIC,cAAW,SAACC,EAAWC,GAAZ,OACjC,IAAIC,cAAW,SAAAC,GACb,IAAIC,EAmBJ,OAlBAC,QAAQC,QAAQN,GACbO,MAAK,SAAAP,GAGJA,EAAUQ,WAAW,CACnBvI,QAAS,CACPwI,cAAe5C,EAAK,iBAAaA,GAAU,SAIhD0C,MAAK,WACJH,EAASH,EAAQD,GAAWxI,UAAU,CACpCkJ,KAAMP,EAASO,KAAKC,KAAKR,GACzBxK,MAAOwK,EAASxK,MAAMgL,KAAKR,GAC3BS,SAAUT,EAASS,SAASD,KAAKR,QAGpCU,MAAMV,EAASxK,MAAMgL,KAAKR,IACtB,WACDC,GAAQA,EAAOU,qBAKnBC,EAAY,IAAIC,KAAiB,CACrCC,iBAAkB,cAClBC,wBAAyB,WACvB,IAAKrD,EAAO,OAAO,EACnB,IACE,IAAQsD,EAAQC,aAAUvD,GAAlBsD,IACR,OAAQ7Q,KAAK+Q,OAAe,IAANF,EACtB,SACA,OAAO,IAGXG,iBAAiB,WAAD,4BAAE,sBAAA/J,EAAA,sEAEHK,MAAM,iBAAkB,CACnCC,OAAQ,OACR0J,YAAa,YAJC,mFAAF,kDAAC,GAOjBC,YAAa,SAACC,GAEZpD,EAAaoD,IAEfC,YAAa,SAAC/L,GACZuC,QAAQvC,MAAM,+BAAgCA,MAOlD,OAJe,IAAIgM,eAAa,CAC9BhS,KAAMoQ,aAAW3N,KAAK,CAAC2O,EAAWjB,EAAaH,IAC/CH,UAUEoC,CACExC,EACAlB,EAASL,MACTQ,GAEJ,OACE,cAAC,iBAAD,CAAgBiB,OAAQA,EAAxB,SACE,cAACJ,EAAD,eAAmBG,ODrBZJ,EAhDf,WACE,MAA8B3M,oBAAS,GAAvC,mBAAOiC,EAAP,KAAgBsN,EAAhB,KACA,EAA0BvP,oBAAS,GAAnC,mBAAOqD,EAAP,KAAcmM,EAAd,KACQzD,EAAiBC,KAAjBD,aAYR,OAXA0D,qBAAU,WACRF,GAAW,GACXjK,MAAM,iBAAkB,CAAEC,OAAQ,SAAU0I,MAAK,SAAAyB,GAAG,OAAIA,EAAIC,UACzD1B,MAAK,YAAsB,IAAnBkB,EAAkB,EAAlBA,YACPpD,EAAaoD,GACbI,GAAW,MACVhB,OAAM,SAACxL,GACRyM,EAASzM,EAAE8D,SACX0I,GAAW,QAEd,IACCtN,EAAiB,cAAC,EAAD,IACjBoB,EAAe,cAAC,EAAD,CAAOA,MAAOA,EAAOC,OAAO,WAE7C,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,GAAD,CAAcsM,OAAK,EAACC,KAAK,OAAzB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,aAAlB,SACE,cAAC,GAAD,MAEF,cAAC,GAAD,CAAcD,OAAK,EAACC,KAAK,WAAzB,SACE,cAAC7H,GAAD,MAEF,cAAC,GAAD,CAAc4H,OAAK,EAACC,KAAK,gBAAzB,SACE,cAACtF,GAAD,MAEF,cAAC,GAAD,CAAcqF,OAAK,EAACC,KAAK,aAAzB,SACE,cAACjG,GAAD,MAEF,cAAC,GAAD,CAAcgG,OAAK,EAACC,KAAK,gBAAzB,SACE,cAAC3F,GAAD,MAEF,cAAC,GAAD,CAAc2F,KAAK,cAAnB,SACE,cAAC3E,GAAD,MAEF,cAAC,IAAD,CAAO2E,KAAK,IAAZ,SACE,cAAC,EAAD,CAAOxM,MAAM,iBAAiBC,OAAO,mBElD/CwM,IAASxD,OACP,cAAC,GAAD,UACE,cAAC,GAAD,MAEFyD,SAASC,eAAe,U","file":"static/js/main.3fd90ab5.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport propTypes from 'prop-types';\r\nimport './style.scss';\r\nfunction AppBar({ title }) {\r\n    const history = useHistory();\r\n    const goTo = (link)=>history.push(link);\r\n    return (\r\n        <nav className=\"app-bar\">\r\n            <h3 className=\"app-bar__title\">{title}</h3>\r\n            <div className=\"app-bar__icon-container\">\r\n                <button aria-label=\"settings\" className=\"app-bar__btn\" onClick={()=>goTo(\"/app/settings\")}>\r\n                    <span className=\"app-bar__icon icon-setting\" />\r\n                </button>\r\n                <button aria-label=\"search\" className=\"app-bar__btn\" onClick={()=>goTo(\"/app/search\")}>\r\n                    <span className=\"app-bar__icon icon-search\" />\r\n                </button>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nAppBar.propTypes = {\r\n    title: propTypes.string\r\n}\r\nexport default AppBar;","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport './style.scss';\r\nfunction Calendar({ variant, onChange, value }) {\r\n    const weekdays = [\"Sun\", \"Mon\", \"Tues\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n    const dates = [];\r\n    const startDate = new Date(value);\r\n    const handleClick = (nDate) => {\r\n        if(isEqual(value, nDate)) return;\r\n        onChange(nDate);\r\n    }\r\n    const handleMonthChange = (theta)=>{\r\n        let nDate = changeMonth(value, theta);\r\n        onChange(nDate);\r\n    }\r\n    let numOfDays = 7;\r\n    if (variant === \"full\") {\r\n        startDate.setDate(1);\r\n        numOfDays = 42;\r\n    }\r\n    startDate.setDate(startDate.getDate() - startDate.getDay());\r\n    for (let i = 0; i < numOfDays; i++) {\r\n        let d = new Date(startDate);\r\n        d.setDate(d.getDate() + i)\r\n        dates.push(d);\r\n    }\r\n    return (\r\n        <div className=\"calendar\">\r\n            {\r\n               (variant === \"full\")&&(\r\n                    <div className=\"controls\">\r\n                        <button onClick={()=>handleMonthChange(-1)} className=\"icon-arrow-left\"></button>\r\n                        <button onClick={()=>handleMonthChange(1)} className=\"icon-arrow-right\"></button>\r\n                    </div>\r\n               )\r\n            }\r\n            <div className=\"grid\">\r\n                {weekdays.map((day, i) => <div key={i} className=\"weekday\">{day}</div>)}\r\n                {dates.map((day, i) =>\r\n                (<div key={i} onClick={() => handleClick(day)} className=\"date\">\r\n                    <div className={[\"date__text\", isSameMonth(day, value) || variant !== 'full' ? '': 'text__grey',isEqual(day, value) ? 'date__active' : ''].join(\" \")}>\r\n                        {day.getDate()}\r\n                    </div>\r\n                </div>)\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nfunction isSameMonth(date1, date2){\r\n    return date1.getMonth() === date2.getMonth()\r\n}\r\nfunction isEqual(date1, date2) {\r\n    return (date1.getYear() === date2.getYear()) &&\r\n        (date1.getMonth() === date2.getMonth()) &&\r\n        (date1.getDate() === date2.getDate());\r\n}\r\nfunction getDayOfWeek (date) {\r\n    let d = new Date();\r\n    if(isEqual(date, d)) return \"Today\";\r\n    return new Intl.DateTimeFormat('en-US', {weekday: 'long'}).format(date);\r\n}\r\nfunction monthName(date){\r\n    const formatter = new Intl.DateTimeFormat('en', { month: 'short' });\r\n    return formatter.format(date);\r\n}\r\nfunction dateToYMD(date){\r\n    var d = date.getDate();\r\n    var m = date.getMonth() + 1;\r\n    var y = date.getFullYear();\r\n    return '' + y + '-' + (m<=9 ? '0' + m : m) + '-' + (d <= 9 ? '0' + d : d);\r\n}\r\nfunction changeMonth(date, val){\r\n    return new Date(date.getFullYear(), date.getMonth()+val, 1);\r\n}\r\nCalendar.propTypes = {\r\n    variant: propTypes.oneOf(\r\n        ['full', 'partial']\r\n    ).isRequired,\r\n    onChange: propTypes.func.isRequired,\r\n    value: propTypes.instanceOf(Date).isRequired\r\n}\r\nexport {Calendar as default, getDayOfWeek, isSameMonth, isEqual, monthName, dateToYMD}","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport './style.scss';\r\nfunction Container({variant, className, ...rest}) {\r\n    return (\r\n        <div className={[\"container\", className, variant].join(\" \")} {...rest}/>\r\n    )\r\n}\r\nContainer.propTypes = {\r\n    variant: propTypes.oneOf([\r\n        'fluid',\r\n        'normal'\r\n    ]),\r\n    className: propTypes.string\r\n}\r\nexport default  Container;","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport {Link as RouterLink, useLocation} from 'react-router-dom';\r\nfunction Link({to, className, ...rest}) {\r\n    const {pathname} = useLocation();\r\n    return ( <RouterLink to={{\r\n        pathname: to,\r\n        state: { from: pathname }\r\n    }} className={[\"no-decoration\", className].join(\" \")} {...rest}/> )\r\n}\r\nLink.propTypes = {\r\n    to: propTypes.string.isRequired,\r\n    className: propTypes.string\r\n}\r\n\r\nexport default Link;","import React, { useState } from 'react';\r\nimport propTypes from 'prop-types';\r\nimport Link from '../Link/index';\r\nimport './style.scss';\r\nfunction TabBar({onChange}) {\r\n    const [active, setActive] = useState(1);\r\n    const handleClick = (n) => {\r\n        setActive(n);\r\n        if (typeof onChange === 'function') onChange(n);\r\n    }\r\n    return (\r\n        <div className=\"tab-bar\">\r\n            <button aria-label=\"home\" onClick={() => handleClick(1)} className={[\"tab-btn\", active === 1 ? \"active\" : \"\"].join(\" \")}>\r\n                <span className=\"icon-home\"></span>\r\n            </button>\r\n            <div className=\"tab-btn\">\r\n                <Link to=\"/app/add\">\r\n                    <button aria-label=\"add\" className=\"pill\">\r\n                        <span className=\"icon-union\"></span>\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n            <button aria-label=\"calendar\" onClick={() => handleClick(2)} className={[\"tab-btn\", active === 2 ? \"active\" : \"\"].join(\" \")}>\r\n                <span className=\"icon-calendar\"></span>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nTabBar.propTypes = {\r\n    onChange: propTypes.func\r\n}\r\nexport default TabBar;","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport './style.scss';\r\nfunction Loader({className, ...rest}) {\r\n    return (\r\n        <div className={[\"loader\", className].join(\" \")} {...rest}>\r\n            <svg viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <circle className=\"length\" fill=\"none\" strokeWidth=\"8\" strokeLinecap=\"round\" cx=\"33\" cy=\"33\" r=\"28\"></circle>\r\n            </svg>\r\n            <svg viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <circle fill=\"none\" strokeWidth=\"8\" strokeLinecap=\"round\" cx=\"33\" cy=\"33\" r=\"28\"></circle>\r\n            </svg>\r\n            <svg viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <circle fill=\"none\" strokeWidth=\"8\" strokeLinecap=\"round\" cx=\"33\" cy=\"33\" r=\"28\"></circle>\r\n            </svg>\r\n            <svg viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <circle fill=\"none\" strokeWidth=\"8\" strokeLinecap=\"round\" cx=\"33\" cy=\"33\" r=\"28\"></circle>\r\n            </svg>\r\n        </div>\r\n    )\r\n}\r\n\r\nLoader.propTypes = {\r\n    className: propTypes.string\r\n}\r\nexport default Loader;","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport './style.scss';\r\nfunction Avatar({ variant, src, className }) {\r\n    return (\r\n        <div className={[\"avatar\", variant, className].join(\" \")} >\r\n            <img alt=\"avatar--profile\" className=\"avatar__img\" src={src}/>\r\n        </div>\r\n    )\r\n}\r\nAvatar.propTypes = {\r\n    variant: propTypes.oneOf([\r\n        'lg',\r\n        'md',\r\n        'sm'\r\n    ]),\r\n    src: propTypes.string,\r\n    className: propTypes.string\r\n}\r\nexport default  Avatar;","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport './style.scss';\r\nfunction Paper({className, ...rest}) {\r\n    return (\r\n        <div className={[\"paper\", className].join(\" \")} {...rest}/>\r\n    )\r\n}\r\n\r\nPaper.propTypes = {\r\n    className: propTypes.string\r\n}\r\nexport default Paper;","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport Avatar from '../Avatar/index';\r\nimport Paper from '../Paper/index';\r\nimport cake from '../../assets/images/cake.png';\r\nimport './style.scss';\r\nfunction ContactItem({ name, date, img }) {\r\n    let today = new Date();\r\n    return (\r\n        <Paper className=\"contact-item\">\r\n            <Avatar src={img} variant=\"sm\" />\r\n            <div className=\"contact-item__text-container\">\r\n                <div className=\"text-title\">{name}</div>\r\n                <div className=\"text\">\r\n                    {date.toLocaleString('default', { month: 'long' })} {date.getDate()}, {date.getFullYear()}\r\n                </div>\r\n            </div>\r\n            {\r\n                (today.getMonth() === date.getMonth() && today.getDate() === date.getDate())?\r\n                (<img src={cake} alt=\"cake\" className=\"contact-item__right-icon\"/>):\r\n                (<div className=\"bd__text\">{diffDatestimeString(today, date)}</div>)\r\n            }\r\n            \r\n        </Paper>\r\n    )\r\n}\r\nfunction diffDatestimeString(date1, date2){\r\n    const d1 = new Date(100, date1.getMonth(), date1.getDate());\r\n    const d2 = new Date(100, date2.getMonth(), date2.getDate());\r\n    const day = 1000 * 60 * 60 * 24;\r\n    let diff = undefined;\r\n    if(d1 <= d2){\r\n       diff = (d2 - d1);\r\n    } else{\r\n        diff = (365 * day) - (d1 - d2);\r\n    }\r\n    if(diff <= 30 * day){\r\n        return Math.ceil((diff/day)) + 'd';\r\n    } else if(diff <= 365 * day){\r\n        return (( diff / ( day * 31 )) | 0) + 'm';\r\n    } else {\r\n        return '1y';\r\n    }\r\n}\r\nContactItem.propTypes = {\r\n    name: propTypes.string.isRequired,\r\n    date: propTypes.instanceOf(Date).isRequired,\r\n    img: propTypes.string.isRequired\r\n}\r\nexport default ContactItem;","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/dog.bbf235eb.png\";","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport Link from '../Link/index';\r\nimport Loader from '../Loader/index';\r\nimport ContactItem from '../ContactItem/index';\r\nimport dogimg from '../../assets/images/dog.png';\r\nimport './style.scss';\r\nfunction ContactList({ data, loading }) {\r\n    if (loading) {\r\n        return (<Loader />)\r\n    }\r\n    if (data?.length ) {\r\n        return data.map(({ _id, name, birthdate, picture }) => {\r\n            const date = new Date(birthdate);\r\n            return (\r\n                <Link key={_id} to={`/app/p/${_id}`}>\r\n                    <ContactItem name={name} date={date} img={picture} />\r\n                </Link>\r\n            )\r\n        })\r\n\r\n    } else {\r\n        return (\r\n            <div className=\"contact-list__empty\">\r\n                <img className=\"image\" src={dogimg} alt=\"dog\" />\r\n                <h2 className=\"title\">No birthdays on this day</h2>\r\n                <h3 className=\"text-body\">\r\n                    Use the + button <br />to add a new birthday\r\n                </h3>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nContactList.propTypes = {\r\n    data: propTypes.array.isRequired,\r\n    loading: propTypes.bool\r\n}\r\nexport default ContactList;","import gql from 'graphql-tag';\r\n\r\nexport const FETCH_BIRDAYS_DATE_QUERY = gql`\r\n    query dateDateBirthDays($date: Date!){   \r\n        getBirthdatesByDate(date: $date){\r\n           _id\r\n           name\r\n           birthdate\r\n           picture\r\n        }\r\n    }\r\n`\r\nexport const FETCH_BIRTHDAYS_MONTH_QUERY = gql`\r\n    query monthBirthdays($month: Int!){\r\n        getBirthdatesByMonth(month: $month){\r\n            _id\r\n            name\r\n            birthdate\r\n            picture\r\n        }\r\n    }\r\n`\r\nexport const FETCH_INDIVIDUAL_BY_ID_QUERY = gql`\r\n    query getContactById($id: ID!){\r\n        getContactById(id: $id){\r\n            name\r\n            birthdate\r\n            picture\r\n        }\r\n    }\r\n`\r\n\r\nexport const FETCH_INDIVIDUAL_BY_NAME_QUERY = gql`\r\n    query getContactsByName($name: String!){\r\n        getContactsByName(name: $name){\r\n            _id\r\n            name\r\n            birthdate\r\n            picture\r\n        }\r\n    }\r\n`\r\nexport const LIST_AVATARS_QUERY = gql`\r\n    query{\r\n        listAvatars\r\n    }\r\n`","import React,{Fragment} from 'react';\r\nimport propTypes from 'prop-types';\r\nimport './style.scss';\r\nfunction Button({loading, onClick, inactive, ...rest}) {\r\n    const handleClick = (e)=>{\r\n        if(loading) return e.preventDefault();\r\n        if(inactive) return e.preventDefault();\r\n        if(typeof onClick === 'function')\r\n        onClick(e);\r\n    }\r\n    return (\r\n        <button className={[\"btn\", loading? \"loading\": null, inactive? \"inactive\": null].join(\" \")} onClick={handleClick} {...rest}>\r\n            <div className=\"btn_text\">\r\n                {loading ?\r\n                (<Fragment>\r\n                    <div/><div/><div/><div/>\r\n                </Fragment>)\r\n                :rest.children}\r\n            </div>\r\n        </button>\r\n    )\r\n}\r\nButton.propTypes = {\r\n    loading: propTypes.bool,\r\n    onClick: propTypes.func,\r\n    inactive: propTypes.bool,\r\n}\r\nexport default Button;","export default __webpack_public_path__ + \"static/media/pageError.74025544.png\";","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport { useHistory } from 'react-router';\r\nimport Button from '../Button/index';\r\nimport errorimg from '../../assets/images/pageError.png';\r\nimport './style.scss';\r\nfunction Error({ error, action }) {\r\n    const history = useHistory() || window.history;\r\n    let func = null, btnText = '';\r\n    switch (action) {\r\n        case 'home':\r\n            func = () => history.push(\"/app\");\r\n            btnText = 'Go Home';\r\n            break;\r\n        case 'reload':\r\n        default:\r\n            func = () => history.go(0);\r\n            btnText = 'Reload';\r\n    }\r\n    return (\r\n        <div className=\"error-container\">\r\n            <div className=\"error-image\">\r\n                <img alt=\"error\" src={errorimg} />\r\n            </div>\r\n            <h1 className=\"error-title\">Uh oh!</h1>\r\n            <p className=\"error-body\">{error.split(\".\").map((sentence, i)=><span key={i}>{sentence}.</span>)}</p>\r\n            <div className=\"btn-container\">\r\n                <Button onClick={func}>{btnText}</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nError.propTypes = {\r\n    error: propTypes.string.isRequired,\r\n    action: propTypes.oneOf(\r\n        [\r\n            'home',\r\n            'reload'\r\n        ]\r\n    ).isRequired\r\n}\r\nexport default Error;","var swRegistration;\r\nvar subscription;\r\nfunction urlBase64ToUint8Array(base64String) {\r\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n    const base64 = (base64String + padding)\r\n        .replace(/-/g, '+')\r\n        .replace(/_/g, '/');\r\n\r\n    const rawData = window.atob(base64);\r\n    const outputArray = new Uint8Array(rawData.length);\r\n\r\n    for (let i = 0; i < rawData.length; ++i) {\r\n        outputArray[i] = rawData.charCodeAt(i);\r\n    }\r\n    return outputArray;\r\n}\r\nfunction isPushNotificationSupported() {\r\n    return \"serviceWorker\" in navigator && \"PushManager\" in window;\r\n}\r\nfunction registerServiceWorker() {\r\n    return navigator.serviceWorker.register(process.env.PUBLIC_URL + \"/sw.js\", {\r\n        scope: \"/\"\r\n    });\r\n}\r\nfunction getSubscription() {\r\n    return swRegistration?.pushManager?.getSubscription()\r\n}\r\nasync function subscribeUser() {\r\n    const appServerPublicKey = \"BMb3p8KdGsCvKoeoT395nQbXst4_8sMGOV14SG6asjgjQih7AAWATF6gsYrEoG1oSqQqJYU7izT9brwPhwnT2W8\";\r\n    return swRegistration?.pushManager?.subscribe({\r\n        userVisibleOnly: true,\r\n        applicationServerKey: urlBase64ToUint8Array(appServerPublicKey)\r\n    })\r\n}\r\nfunction updateSubscriptionOnServer(subscription) {\r\n    return fetch(\"/push/subscribe\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(subscription),\r\n        headers: {\r\n            'content-type': 'application/json'\r\n        }\r\n    });\r\n}\r\nexport async function initializeSW() {\r\n    if (isPushNotificationSupported()) {\r\n        try {\r\n            swRegistration = await registerServiceWorker();\r\n        } catch (e) { }\r\n        subscription = await getSubscription();\r\n        if (subscription === null || subscription === undefined) {\r\n            try {\r\n                subscription = await subscribeUser();\r\n                updateSubscriptionOnServer(subscription);\r\n            } catch (err) { }\r\n        }\r\n    } else {\r\n        console.warn('Push messaging is not supported');\r\n    }\r\n}\r\n","import React, { useState } from 'react'\r\nimport AppBar from '../components/AppBar/index'\r\nimport Calendar, { getDayOfWeek, monthName } from '../components/Calendar/index'\r\nimport Container from '../components/Container/index'\r\nimport TabBar from '../components/TabBar/index'\r\nimport ContactList from '../components/ContactList/index'\r\nimport { useQuery } from '@apollo/client';\r\nimport { FETCH_BIRDAYS_DATE_QUERY, FETCH_BIRTHDAYS_MONTH_QUERY } from '../graphql/queries';\r\nimport Error from '../components/Error/index';\r\nimport {initializeSW} from '../services/pushNotifications';\r\nimport './style.scss';\r\nfunction App() {\r\n    const [activeDate, setActiveDate] = useState(new Date());\r\n    const [ activeTab, setActiveTab ] = useState(1);\r\n    var query = FETCH_BIRDAYS_DATE_QUERY;\r\n    let variables = { date: activeDate };\r\n    if(activeTab === 2){\r\n        query = FETCH_BIRTHDAYS_MONTH_QUERY\r\n        const month = activeDate.getMonth();\r\n        variables = {month}\r\n    } \r\n    const { loading, data, error } = useQuery(query, { variables });\r\n    const handleTabChange = (n) => {\r\n        if(n === 1) setActiveDate(new Date());\r\n        setActiveTab(n);\r\n    }\r\n    const handleDateChange = (date) => {\r\n        setActiveDate(date);\r\n        if(activeTab === 2){\r\n            //TODO: Scroll to the person item\r\n        }\r\n    }\r\n    const title = activeTab === 1? getDayOfWeek(activeDate) : monthName(activeDate) + \" \" + activeDate.getFullYear();\r\n    if(error) return (<Error error={error.message}/>)\r\n    return (\r\n        <div className=\"app\">\r\n            <Container>\r\n                <AppBar title={title}></AppBar>\r\n                <Calendar variant={activeTab === 2 ? \"full\" : \"partial\"} value={activeDate} onChange={handleDateChange}/>\r\n            </Container>\r\n            <main className=\"main\">\r\n                <div className=\"contact-list__container\">\r\n                    <ContactList data={data?.getBirthdatesByDate || data?.getBirthdatesByMonth || []} loading={loading}/>\r\n                </div>\r\n            </main>\r\n            <TabBar onChange={handleTabChange} />\r\n        </div>\r\n    )\r\n}\r\ninitializeSW();\r\n\r\nexport default App;","import React from 'react';\r\nimport {useHistory, useLocation} from  'react-router-dom';\r\nimport './style.scss';\r\nvar back;\r\nfunction BackButton() {\r\n    const history = useHistory();\r\n    const { state } = useLocation();\r\n    back = () => {\r\n        if(state?.from){\r\n            history.goBack();\r\n        } else {\r\n            history.push(\"/app\");\r\n        }\r\n    }\r\n    return (\r\n        <button aria-label=\"back\" onClick={back} className=\"back-btn\">\r\n            <span className=\"icon-arrow-circle-left\"></span>  \r\n        </button>\r\n    )\r\n}\r\n\r\nexport {BackButton as default, back}","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport './style.scss';\r\nfunction Input({label, error, ...rest}) {\r\n    return (\r\n        <div className={error?\"error\":\"\"}>\r\n            <label htmlFor={`${label}-1`} className=\"label\">{label}</label>\r\n            <input id={`${label}-1`} className=\"input\" {...rest}></input>\r\n        </div>\r\n    )\r\n}\r\n\r\nInput.propTypes = {\r\n    label: propTypes.string.isRequired,\r\n    error: propTypes.bool\r\n}\r\nexport default Input;","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport './style.scss';\r\nfunction Fieldset({ className, children}) {\r\n    return (\r\n        <fieldset className={[\"fieldset\", className].join(\" \")}>\r\n            { children }\r\n        </fieldset>\r\n    )\r\n}\r\n\r\nFieldset.propTypes = {\r\n    className: propTypes.string,\r\n    children: propTypes.any\r\n}\r\n\r\nexport default Fieldset;","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport './style.scss';\r\nfunction ErrorMessage({className, ...rest}) {\r\n    return (\r\n        <div className={[\"error-box\", className].join(\" \")} {...rest}/>  \r\n    )\r\n}\r\nErrorMessage.propTypes ={\r\n    className: propTypes.string\r\n}\r\nexport default ErrorMessage;","import gql from 'graphql-tag';\r\n\r\nexport const ADD_INDIVIDUAL_MUTATION = gql`\r\nmutation addIndividual($name: String! $date: Date! $picture: String!){\r\n    createContact(name: $name, birthdate: $date, picture: $picture){\r\n        _id\r\n    }\r\n}\r\n`\r\nexport const DELETE_INDIVIDUAL_BY_ID_MUTATION = gql`\r\nmutation deleteByID($id: ID!){\r\n    deleteContact(id: $id){\r\n        _id\r\n    }\r\n}`\r\n\r\nexport const UPDATE_INDIVIDUAL_BY_ID_MUTATION = gql`\r\nmutation updateByID($id: ID! $name: String $birthdate: Date $picture: String){\r\n    updateContact(id: $id, name: $name, birthdate: $birthdate, picture: $picture){\r\n        _id\r\n        name\r\n    }\r\n}`\r\n","import { useQuery } from '@apollo/client';\r\nimport React, { useState } from 'react';\r\nimport propTypes from 'prop-types';\r\nimport { LIST_AVATARS_QUERY } from '../../graphql/queries';\r\nimport Avatar from '../Avatar';\r\nimport Button from '../Button';\r\nimport Container from '../Container'\r\nimport Error from '../Error';\r\nimport Loader from '../Loader';\r\nimport './style.scss';function AvatarEditor({ onClose, onChange, value }) {\r\n    const { data, loading, error } = useQuery(LIST_AVATARS_QUERY);\r\n    const [picture, setPicture] = useState(value);\r\n    const handleClick = (e) => {\r\n        onChange(picture);\r\n        onClose();\r\n    }\r\n    if (loading) return (<Loader />);\r\n    if (error) return (<Error error={error}/>);\r\n    const selectAvatar = (avatar) => () => {\r\n        setPicture(avatar);\r\n    }\r\n    return (\r\n        <div className=\"avatar-editor\">\r\n            <Container variant=\"fluid\">\r\n                <div className=\"close-btn-container\">\r\n                    <button className=\"close-button\">\r\n                        <span onClick={onClose} className=\"icon-close-square\" />\r\n                    </button>\r\n                </div>\r\n                <Avatar src={picture} className=\"m-auto\" variant=\"lg\" />\r\n                <div className=\"avatars-container\">\r\n                    {\r\n                        (data.listAvatars || []).map((a, i) =>\r\n                            (<span className={picture === a ?\"active\":\"\"} key={i} onClick={selectAvatar(a)}>\r\n                                <Avatar className=\"m-auto\" variant=\"sm\" src={a} />\r\n                            </span>)\r\n                        )\r\n                    }\r\n                </div>\r\n                <div className=\"btn-container\">\r\n                    <Button onClick={handleClick} inactive={value === picture}>Save</Button>\r\n                </div>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nAvatarEditor.propTypes = {\r\n    onClose: propTypes.func,\r\n    onChange: propTypes.func,\r\n    value: propTypes.string\r\n}\r\n\r\nexport default AvatarEditor;","import React, { useState } from 'react'\r\nimport Avatar from '../components/Avatar/index';\r\nimport BackButton, { back } from '../components/BackButton/index';\r\nimport Container from '../components/Container/index';\r\nimport Input from '../components/Input/index';\r\nimport Button from '../components/Button/index';\r\nimport Fieldset from '../components/Fieldset/index';\r\nimport ErrorMessage from '../components/ErrorMessage/index';\r\nimport { useMutation } from '@apollo/client';\r\nimport { ADD_INDIVIDUAL_MUTATION } from '../graphql/mutations';\r\nimport AvatarEditor from '../components/AvatarEditor';\r\nexport default function Add() {\r\n    const [errors, setErrors] = useState({});\r\n    const [values, setValues] = useState({ name: '', date: '', picture: '/avatars/0' });\r\n    const [showAvatarEditor, setShowA] = useState(false);\r\n    const [addIndividual, { loading }] = useMutation(ADD_INDIVIDUAL_MUTATION, {\r\n        update() { back() },\r\n        onError(err) {\r\n            setErrors(err.graphQLErrors[0].extensions.errors);\r\n        },\r\n        variables: {\r\n            name: values.name,\r\n            date: values.date.replace(/-/g, '/'),\r\n            picture: values.picture\r\n        }\r\n    });\r\n    const handleChange = (ev) => {\r\n        setValues({ ...values, [ev.target.name]: ev.target.value })\r\n    }\r\n    const handleSubmit = (ev) => {\r\n        ev.preventDefault();\r\n        addIndividual();\r\n    }\r\n    const toggleAvatarEditor  = (e)=>{\r\n        e.preventDefault();\r\n        setShowA(true);\r\n    }\r\n    if(showAvatarEditor){\r\n        return (<AvatarEditor value={values.picture} onClose={()=>setShowA(false)} onChange={(p)=>setValues({...values, picture:p})}/>)\r\n    }\r\n    return (\r\n        <div className=\"add\">\r\n            <Container variant=\"fluid\">\r\n                <BackButton />\r\n                <form onSubmit={handleSubmit} className=\"add-form\">\r\n                    <Container>\r\n                        {\r\n                            (Object.keys(errors).length > 0) && (\r\n                                <ErrorMessage className=\"errmsg\">\r\n                                    <ul>\r\n                                        {Object.values(errors).map((value, i) => <li key={i}>{value}</li>)}\r\n                                    </ul>\r\n                                </ErrorMessage>\r\n                            )\r\n                        }\r\n                        <Avatar variant=\"lg\" src={values.picture} className=\"m-auto\" />\r\n                        <Fieldset className=\"edit-avatar\">\r\n                            <button onClick={toggleAvatarEditor} className=\"edit-button\">\r\n                                <span className=\"icon-edit\"/> Edit Avatar\r\n                            </button>\r\n                        </Fieldset>\r\n                        <Fieldset>\r\n                            <Input error={errors.name ? true : false} onChange={handleChange} value={values.name} label=\"Name\" name=\"name\" placeholder=\"Ex: John Doe\" />\r\n                        </Fieldset>\r\n                        <Fieldset>\r\n                            <Input error={errors.birthdate ? true : false} onChange={handleChange} value={values.date} type=\"date\" name=\"date\" label=\"Birthdate\" />\r\n                        </Fieldset>\r\n                        <div className=\"button-container\">\r\n                            <Button loading={loading}>ADD</Button>\r\n                        </div>\r\n                    </Container>\r\n                </form>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport Paper from '../Paper/index';\r\nimport './style.scss';\r\nfunction BirthdateCard({className, date, ...rest}) {\r\n    return (\r\n        <Paper className={[\"birthday-card\", className].join(\" \")} {...rest}>\r\n            <div className=\"birthday-card__label\">\r\n                <span className=\"icon-calendar\"/>\r\n                Birthdate\r\n            </div>\r\n            <div>\r\n            {date.toLocaleString('default', { month: 'long' })} {date.getDate()}, {date.getFullYear()}\r\n            </div>\r\n        </Paper>\r\n    )\r\n}\r\nBirthdateCard.prototype = {\r\n    className: propTypes.string,\r\n    date: propTypes.instanceOf(Date),\r\n}\r\nexport default BirthdateCard;","import React, { useState } from 'react'\r\nimport Avatar from '../components/Avatar/index'\r\nimport BackButton, { back } from '../components/BackButton/index';\r\nimport Container from '../components/Container/index';\r\nimport Button from '../components/Button/index';\r\nimport BirthdateCard from '../components/BirthdateCard/index';\r\nimport Loader from '../components/Loader/index';\r\nimport Error from '../components/Error/index'\r\nimport Link from '../components/Link/index';\r\nimport { useParams } from 'react-router-dom';\r\nimport { FETCH_INDIVIDUAL_BY_ID_QUERY } from '../graphql/queries';\r\nimport { DELETE_INDIVIDUAL_BY_ID_MUTATION } from '../graphql/mutations';\r\nimport { useMutation, useQuery } from '@apollo/client';\r\nimport './style.scss';\r\nexport default function Profile() {\r\n    const { id } = useParams();\r\n    const [errors, setErrors] = useState({ delete: null, query: null })\r\n    const { data, loading } = useQuery(FETCH_INDIVIDUAL_BY_ID_QUERY, {\r\n        onError(e) {\r\n            setErrors({ query: e.message })\r\n        },\r\n        variables: { id }\r\n    })\r\n    const [deleteIndividual, { loading: deleteLoading }] = useMutation(DELETE_INDIVIDUAL_BY_ID_MUTATION, {\r\n        update() {\r\n            back();\r\n        },\r\n        variables: { id }\r\n    })\r\n    if (loading) return (<Loader />);\r\n    if (errors.query) return (<Error error={errors.query} />)\r\n    const date = new Date(data?.getContactById?.birthdate);\r\n    return (\r\n        <div className=\"profile\">\r\n            <Container variant=\"fluid\">\r\n                <BackButton />\r\n                <Container>\r\n                    <Avatar variant=\"md\" className=\"m-auto\" src={data?.getContactById?.picture} />\r\n                    <div className=\"small_text\">\r\n                        <Link to={`/app/edit/${id}`} className=\"link\"> Edit </Link>\r\n                    </div>\r\n                    <div className=\"profile__container\">\r\n                        <h1 className=\"title\"> {data?.getContactById?.name} </h1>\r\n                        <h3 className=\"text-body\">Today is {new Date(new Date() - date).getFullYear() - 1970} y.o</h3>\r\n                        <BirthdateCard date={date} className=\"bd-card\" />\r\n                        <div className=\"button-container\">\r\n                            <Button onClick={deleteIndividual} loading={deleteLoading ? true : false}>DELETE</Button>\r\n                        </div>\r\n                    </div>\r\n                </Container>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport Avatar from '../components/Avatar/index';\r\nimport BackButton, { back } from '../components/BackButton/index';\r\nimport Container from '../components/Container/index';\r\nimport Input from '../components/Input/index';\r\nimport Button from '../components/Button/index';\r\nimport Fieldset from '../components/Fieldset/index';\r\nimport Loader from '../components/Loader/index';\r\nimport Error from '../components/Error/index';\r\nimport ErrorMessage from '../components/ErrorMessage/index';\r\nimport { dateToYMD } from '../components/Calendar/index';\r\nimport { useMutation, useQuery } from '@apollo/client';\r\nimport { UPDATE_INDIVIDUAL_BY_ID_MUTATION } from '../graphql/mutations';\r\nimport { FETCH_INDIVIDUAL_BY_ID_QUERY } from '../graphql/queries';\r\nimport { useParams } from 'react-router-dom';\r\nimport AvatarEditor from '../components/AvatarEditor';\r\nexport default function Edit() {\r\n    const { id } = useParams();\r\n    const [errors, setErrors] = useState({ update: {}, query: null });\r\n    const [values, setValues] = useState({ name: '', date: '', picture: '/avatars/0' });\r\n    const [showAvatarEditor, setShowA] = useState(false);\r\n    const { data, loading } = useQuery(FETCH_INDIVIDUAL_BY_ID_QUERY, {\r\n        onCompleted(data) {\r\n            setValues({\r\n                name: data?.getContactById?.name,\r\n                date: data?.getContactById?.birthdate,\r\n                picture: data?.getContactById?.picture\r\n            })\r\n        },\r\n        onError(e) {\r\n            setErrors({ query: e.message })\r\n        },\r\n        variables: { id }\r\n    })\r\n    const [updateIndividual, { loading: updateLoading }] = useMutation(UPDATE_INDIVIDUAL_BY_ID_MUTATION, {\r\n        update() {\r\n            back();\r\n        },\r\n        onError(err) {\r\n            setErrors({ update: err?.graphQLErrors[0]?.extensions.errors });\r\n        },\r\n        variables: getRequestParams()\r\n    });\r\n    function getRequestParams() {\r\n        let birthdate = null;\r\n        let name = null;\r\n        let picture = null;\r\n        if (values.name !== data?.getContactById?.name) { name = values.name }\r\n        if (values.date !== data?.getContactById?.birthdate) {\r\n            birthdate = values.date?.replace(/-/g, '/')\r\n        }\r\n        if(values.picture !== data?.getContactById?.picture){\r\n            picture = values.picture\r\n        }\r\n        return { id, birthdate, name, picture }\r\n    }\r\n    const handleChange = (ev) => {\r\n        setValues({ ...values, [ev.target.name]: ev.target.value })\r\n    }\r\n    const handleSubmit = (ev) => {\r\n        ev.preventDefault();\r\n        updateIndividual();\r\n    }\r\n    const toggleAvatarEditor  = (e)=>{\r\n        e.preventDefault();\r\n        setShowA(true);\r\n    }\r\n    if (errors.query) return (<Error error={errors.query} />)\r\n    if (loading) return (<Loader />);\r\n    if(showAvatarEditor){\r\n        return (<AvatarEditor value={values.picture} onClose={()=>setShowA(false)} onChange={(p)=>setValues({...values, picture:p})}/>)\r\n    }\r\n    return (\r\n        <div className=\"edit\">\r\n            <Container variant=\"fluid\">\r\n                <BackButton />\r\n                <form onSubmit={handleSubmit} className=\"edit-form\">\r\n                    <Container>\r\n                        {\r\n                            (Object.keys(errors?.update || {}).length > 0) && (\r\n                                <ErrorMessage className=\"errmsg\">\r\n                                    <ul >\r\n                                        {Object.values(errors.update).map((value, i) => <li key={i}>{value}</li>)}\r\n                                    </ul>\r\n                                </ErrorMessage>\r\n                            )\r\n                        }\r\n                        <Avatar variant=\"lg\" src={values.picture} className=\"m-auto\" />\r\n                        <Fieldset className=\"edit-avatar\">\r\n                            <button onClick={toggleAvatarEditor} className=\"edit-button\">\r\n                                <span className=\"icon-edit\"/> Edit Avatar\r\n                            </button>\r\n                        </Fieldset>\r\n                        <Fieldset>\r\n                            <Input error={errors?.update?.name ? true : false} onChange={handleChange} value={values.name} label=\"Name\" name=\"name\" placeholder=\"Ex: John Doe\" />\r\n                        </Fieldset>\r\n                        <Fieldset>\r\n                            <Input error={errors?.update?.birthdate ? true : false} onChange={handleChange} value={dateToYMD(new Date(values.date))} type=\"date\" name=\"date\" label=\"Birthdate\" />\r\n                        </Fieldset>\r\n                        <div className=\"button-container\">\r\n                            <Button loading={updateLoading}>UPDATE</Button>\r\n                        </div>\r\n                    </Container>\r\n                </form>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Container from '../components/Container/index'\r\nimport BackButton from '../components/BackButton/index';\r\nexport default function Settings() {\r\n    return (\r\n        <div>\r\n            <Container variant=\"fluid\">\r\n                <BackButton/>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport './style.scss';\r\nexport default function SearchBar(props) {\r\n    return (\r\n        <label className=\"search-bar\">\r\n            <span className=\"icon-search\"/>\r\n            <input type=\"search\"  {...props}/>\r\n        </label>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/search404.c8811a3e.png\";","import { useQuery } from '@apollo/client';\r\nimport React from 'react'\r\nimport { useLocation } from 'react-router';\r\nimport { FETCH_INDIVIDUAL_BY_NAME_QUERY } from '../../graphql/queries';\r\nimport Loader from '../Loader/index';\r\nimport ContactItem from '../ContactItem/index';\r\nimport Link from '../Link/index';\r\nimport notfound from '../../assets/images/search404.png'\r\nimport './style.scss';\r\nexport default function SearchList() {\r\n    const query = new URLSearchParams(useLocation().search).get(\"q\");\r\n    const { data, loading } = useQuery(FETCH_INDIVIDUAL_BY_NAME_QUERY, {\r\n        variables: { name: (query) }\r\n    });\r\n    var toDisplay;\r\n    if (loading) return (<Loader />)\r\n    if (query && data?.getContactsByName.length < 1) {\r\n        return (\r\n            <div className=\"search-results__empty\">\r\n                <img className=\"image\" alt=\"not-found\" src={notfound} />\r\n                <h2>Sorry we could find any results for <strong>\"{query}\"</strong></h2>\r\n                <p className=\"text-body\">\r\n                    Please check spelling or try a different name\r\n            </p>\r\n            </div>\r\n        )\r\n    } else if (query && data.getContactsByName.length >= 1) {\r\n        toDisplay = data.getContactsByName.map((contact, i) => {\r\n            let date = new Date(contact.birthdate)\r\n            return (\r\n                <Link key={i} className=\"no-decoration\" to={`/app/p/${contact._id}`}>\r\n                    <ContactItem name={contact.name} date={date} img={contact.picture} />\r\n                </Link>)\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"search-results\">\r\n            {toDisplay}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport Container from '../components/Container/index';\r\nimport BackButton from '../components/BackButton/index';\r\nimport SearchBar from '../components/SearchBar/index';\r\nimport SearchList from '../components/SearchList/index';\r\nimport { useHistory, useLocation } from 'react-router';\r\nimport './style.scss';\r\nexport default function Search() {\r\n    const query = new URLSearchParams(useLocation().search).get(\"q\");\r\n    const history = useHistory();\r\n    const [value, setValue] = useState(query||\"\");\r\n    const handleChange = (ev)=>{\r\n        setValue(ev.target.value);\r\n    }\r\n    const handleSubmit = (ev) =>{\r\n        ev.preventDefault();\r\n        history.push({\r\n         pathname:\"/app/search\",\r\n         search:   `?q=${ encodeURI(value) }`\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"search\">\r\n            <Container variant=\"fluid\">\r\n                <BackButton/>\r\n                <form method=\"GET\" onSubmit={handleSubmit} className=\"search-form\">\r\n                    <SearchBar value={value} name=\"q\" onChange={handleChange} placeholder=\"Search Name\" />\r\n                    {query&&(<SearchList/>)}\r\n                </form>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n","import {createContext, useContext, useReducer} from 'react';\r\n\r\nconst AppContext = createContext({\r\n    token: null,\r\n});\r\nconst appReducer = (state, action) => {\r\n    switch(action.type){\r\n        case 'ACCESS_TOKEN':\r\n            return {\r\n                ...state,\r\n                token: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nconst AppProvider = ({children}) =>{\r\n    const [appState, dispatch] = useReducer(appReducer, { token: null });\r\n    const setAuthToken = (token)=>{\r\n        dispatch({type: 'ACCESS_TOKEN', payload: token });\r\n    }\r\n    return (\r\n        <AppContext.Provider value={{appState, setAuthToken}}>\r\n            {children}\r\n        </AppContext.Provider>\r\n    )\r\n}\r\nconst useAppState = () => useContext(AppContext);\r\nexport { AppProvider, useAppState };","import React from 'react';\r\nimport './style.scss';\r\nexport default function GoogleButton() {\r\n    return (\r\n        <button type=\"button\" className=\"google-button\">\r\n            <span className=\"google-button__icon\">\r\n                <svg viewBox=\"0 0 366 372\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M125.9 10.2c40.2-13.9 85.3-13.6 125.3 1.1 22.2 8.2 42.5 21 59.9 37.1-5.8 6.3-12.1 12.2-18.1 18.3l-34.2 34.2c-11.3-10.8-25.1-19-40.1-23.6-17.6-5.3-36.6-6.1-54.6-2.2-21 4.5-40.5 15.5-55.6 30.9-12.2 12.3-21.4 27.5-27 43.9-20.3-15.8-40.6-31.5-61-47.3 21.5-43 60.1-76.9 105.4-92.4z\" id=\"Shape\" fill=\"#EA4335\" /><path d=\"M20.6 102.4c20.3 15.8 40.6 31.5 61 47.3-8 23.3-8 49.2 0 72.4-20.3 15.8-40.6 31.6-60.9 47.3C1.9 232.7-3.8 189.6 4.4 149.2c3.3-16.2 8.7-32 16.2-46.8z\" id=\"Shape\" fill=\"#FBBC05\" /><path d=\"M361.7 151.1c5.8 32.7 4.5 66.8-4.7 98.8-8.5 29.3-24.6 56.5-47.1 77.2l-59.1-45.9c19.5-13.1 33.3-34.3 37.2-57.5H186.6c.1-24.2.1-48.4.1-72.6h175z\" id=\"Shape\" fill=\"#4285F4\" /><path d=\"M81.4 222.2c7.8 22.9 22.8 43.2 42.6 57.1 12.4 8.7 26.6 14.9 41.4 17.9 14.6 3 29.7 2.6 44.4.1 14.6-2.6 28.7-7.9 41-16.2l59.1 45.9c-21.3 19.7-48 33.1-76.2 39.6-31.2 7.1-64.2 7.3-95.2-1-24.6-6.5-47.7-18.2-67.6-34.1-20.9-16.6-38.3-38-50.4-62 20.3-15.7 40.6-31.5 60.9-47.3z\" fill=\"#34A853\" /></svg>\r\n            </span>\r\n            <span className=\"google-button__text\">Sign in with Google</span>\r\n        </button>\r\n\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useLocation, Redirect } from 'react-router-dom';\r\nimport { useAppState } from '../context/AppProvider';\r\nimport GoogleButton from '../components/GoogleButton/index';\r\nimport Container from '../components/Container/index';\r\nexport default function Home() {\r\n    const { appState } = useAppState();\r\n    const { state } = useLocation();\r\n    if (appState.token) {\r\n        return <Redirect to={state?.from || '/app'} />\r\n    }\r\n    return (\r\n        <div className=\"login\">\r\n            <Container className=\"text-center\">\r\n                <h1>Happybd</h1>\r\n                <a className=\"no-decoration\" href=\"/auth/login\">\r\n                    <GoogleButton />\r\n                </a>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport { useAppState } from '../../context/AppProvider';\r\nfunction PrivateRoute({children, ...rest}){\r\n    const {appState} = useAppState();\r\n    return (\r\n        <Route {...rest} render={({ location }) => {\r\n          return appState.token\r\n            ? children\r\n            : <Redirect to={{pathname: '/app/login', state:{ from: location}}} />\r\n        }} />\r\n      )\r\n}\r\n\r\nPrivateRoute.prototype = {\r\n  children: propTypes.oneOf([\r\n    propTypes.arrayOf(propTypes.node),\r\n    propTypes.node\r\n  ])\r\n}\r\nexport default PrivateRoute","import React, { useState, useEffect } from 'react'\r\nimport { Route, BrowserRouter as Router, Switch } from 'react-router-dom';\r\nimport App from './pages/App';\r\nimport Add from './pages/Add';\r\nimport Profile from './pages/Profile';\r\nimport Edit from './pages/Edit';\r\nimport Settings from './pages/Settings';\r\nimport Search from './pages/Search';\r\nimport Login from './pages/Login';\r\nimport Loader from './components/Loader/index';\r\nimport Error from './components/Error/index';\r\nimport PrivateRoute from './components/PrivateRoute/index';\r\nimport { useAppState } from './context/AppProvider';\r\nimport withApollo from './context/ApolloProvider';\r\nfunction Routes() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n  const { setAuthToken } = useAppState();\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    fetch(\"/refresh_token\", { method: 'POST' }).then(res => res.json())\r\n      .then(({ accessToken }) => {\r\n        setAuthToken(accessToken);\r\n        setLoading(false);\r\n      }).catch((e) => {\r\n        setError(e.message);\r\n        setLoading(false);\r\n      });\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n  if (loading) return (<Loader />);\r\n  if (error) return (<Error error={error} action=\"reload\" />);\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <PrivateRoute exact path=\"/app\">\r\n          <App />\r\n        </PrivateRoute>\r\n        <Route exact path=\"/app/login\">\r\n          <Login />\r\n        </Route>\r\n        <PrivateRoute exact path=\"/app/add\">\r\n          <Add />\r\n        </PrivateRoute>\r\n        <PrivateRoute exact path=\"/app/settings\">\r\n          <Settings />\r\n        </PrivateRoute>\r\n        <PrivateRoute exact path=\"/app/p/:id\">\r\n          <Profile />\r\n        </PrivateRoute>\r\n        <PrivateRoute exact path=\"/app/edit/:id\">\r\n          <Edit />\r\n        </PrivateRoute>\r\n        <PrivateRoute path=\"/app/search\">\r\n          <Search />\r\n        </PrivateRoute>\r\n        <Route path=\"*\">\r\n          <Error error=\"Page not found\" action=\"home\" />\r\n        </Route>\r\n      </Switch>\r\n    </Router>)\r\n}\r\n\r\nexport default withApollo(Routes);","import { ApolloProvider, InMemoryCache, ApolloClient, createHttpLink, ApolloLink, Observable } from '@apollo/client';\r\nimport { TokenRefreshLink } from 'apollo-link-token-refresh';\r\nimport jwtDecode from 'jwt-decode';\r\nimport { useAppState } from './AppProvider';\r\nconst initApolloClient = (initialState = {}, token, setAuthToken) => {\r\n  const cache = new InMemoryCache().restore(initialState);\r\n\r\n  const httpLink = createHttpLink({\r\n    uri: \"/graphql\"\r\n  });\r\n\r\n  const requestLink = new ApolloLink((operation, forward) =>\r\n    new Observable(observer => {\r\n      let handle;\r\n      Promise.resolve(operation)\r\n        .then(operation => {\r\n          // get the authentication token from local storage if it exists\r\n          // return the headers to the context so httpLink can read them\r\n          operation.setContext({\r\n            headers: {\r\n              authorization: token ? `Bearer ${token}` : \"\",\r\n            }\r\n          });\r\n        })\r\n        .then(() => {\r\n          handle = forward(operation).subscribe({\r\n            next: observer.next.bind(observer),\r\n            error: observer.error.bind(observer),\r\n            complete: observer.complete.bind(observer),\r\n          })\r\n        })\r\n        .catch(observer.error.bind(observer));\r\n      return () => {\r\n        if (handle) handle.unsubscribe();\r\n      }\r\n    })\r\n  );\r\n\r\n  const tokenLink = new TokenRefreshLink({\r\n    accessTokenField: 'accessToken',\r\n    isTokenValidOrUndefined: () => {\r\n      if (!token) return true;\r\n      try {\r\n        const { exp } = jwtDecode(token);\r\n        return (Date.now() <= exp * 1000)\r\n      } catch {\r\n        return false;\r\n      }\r\n    },\r\n    fetchAccessToken: async () => {\r\n      // Use fetch to access the refreshUserToken mutation\r\n      return await fetch(`/refresh_token`, {\r\n        method: 'POST',\r\n        credentials: \"include\"\r\n      });\r\n    },\r\n    handleFetch: (accessToken) => {\r\n      // save new authentication token to state\r\n      setAuthToken(accessToken);\r\n    },\r\n    handleError: (error) => {\r\n      console.error('Cannot refresh access token:', error);\r\n    },\r\n  });\r\n  const client = new ApolloClient({\r\n    link: ApolloLink.from([tokenLink, requestLink, httpLink]),\r\n    cache,\r\n  });\r\n  return client;\r\n};\r\n\r\nconst withApollo = (PageComponent) => {\r\n  const WithApollo = ({ apolloClient, apolloState, ...pageProps }) => {\r\n    const { appState, setAuthToken } = useAppState();\r\n    const client =\r\n      apolloClient ||\r\n      initApolloClient(\r\n        apolloState,\r\n        appState.token,\r\n        setAuthToken\r\n      );\r\n    return (\r\n      <ApolloProvider client={client}>\r\n        <PageComponent {...pageProps} />\r\n      </ApolloProvider>\r\n    );\r\n  };\r\n\r\n  return WithApollo;\r\n};\r\n\r\nexport default withApollo;","import './styles/index.scss';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Routes from './Routes';\r\nimport {AppProvider} from './context/AppProvider'\r\n\r\nReactDOM.render(\r\n  <AppProvider>\r\n    <Routes/>\r\n  </AppProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}