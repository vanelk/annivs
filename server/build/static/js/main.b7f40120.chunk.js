(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);n(76);var a=n(3),c=n(69),r=n.n(c),i=n(10),s=n(28),o=n(9),l=(n(81),n(0));var j=function(e){var t=e.title,n=Object(o.g)(),a=function(e){return n.push(e)};return Object(l.jsxs)("nav",{className:"app-bar",children:[Object(l.jsx)("h3",{className:"app-bar__title",children:t}),Object(l.jsxs)("div",{className:"app-bar__icon-container",children:[Object(l.jsx)("button",{"aria-label":"settings",className:"app-bar__btn",onClick:function(){return a("/app/settings")},children:Object(l.jsx)("span",{className:"app-bar__icon icon-setting"})}),Object(l.jsx)("button",{"aria-label":"search",className:"app-bar__btn",onClick:function(){return a("/app/search")},children:Object(l.jsx)("span",{className:"app-bar__icon icon-search"})})]})]})};n(90);function d(e){var t=e.variant,n=e.onChange,a=e.value,c=[],r=new Date(a),i=function(e){var t,c,r=(t=a,c=e,new Date(t.getFullYear(),t.getMonth()+c,1));n(r)},s=7;"full"===t&&(r.setDate(1),s=42),r.setDate(r.getDate()-r.getDay());for(var o=0;o<s;o++){var j=new Date(r);j.setDate(j.getDate()+o),c.push(j)}return Object(l.jsxs)("div",{className:"calendar",children:["full"===t&&Object(l.jsxs)("div",{className:"controls",children:[Object(l.jsx)("button",{onClick:function(){return i(-1)},className:"icon-arrow-left"}),Object(l.jsx)("button",{onClick:function(){return i(1)},className:"icon-arrow-right"})]}),Object(l.jsxs)("div",{className:"grid",children:[["Sun","Mon","Tues","Wed","Thu","Fri","Sat"].map((function(e,t){return Object(l.jsx)("div",{className:"weekday",children:e},t)})),c.map((function(e,c){return Object(l.jsx)("div",{onClick:function(){var t;u(a,t=e)||n(t)},className:"date",children:Object(l.jsx)("div",{className:["date__text",(r=e,i=a,r.getMonth()===i.getMonth()||"full"!==t?"":"text__grey"),u(e,a)?"date__active":""].join(" "),children:e.getDate()})},c);var r,i}))]})]})}function u(e,t){return e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function b(e){var t=e.getDate(),n=e.getMonth()+1;return e.getFullYear()+"-"+(n<=9?"0"+n:n)+"-"+(t<=9?"0"+t:t)}var h=n(5),O=n(13);n(91);var v=function(e){var t=e.variant,n=e.className,a=Object(O.a)(e,["variant","className"]);return Object(l.jsx)("div",Object(h.a)({className:["container",n,t].join(" ")},a))};var m=function(e){var t=e.to,n=e.className,a=Object(O.a)(e,["to","className"]),c=Object(o.h)().pathname;return Object(l.jsx)(s.b,Object(h.a)({to:{pathname:t,state:{from:c}},className:["no-decoration",n].join(" ")},a))};n(92);var x=function(e){var t=e.onChange,n=Object(a.useState)(1),c=Object(i.a)(n,2),r=c[0],s=c[1],o=function(e){s(e),"function"===typeof t&&t(e)};return Object(l.jsxs)("div",{className:"tab-bar",children:[Object(l.jsx)("button",{"aria-label":"home",onClick:function(){return o(1)},className:["tab-btn",1===r?"active":""].join(" "),children:Object(l.jsx)("span",{className:"icon-home"})}),Object(l.jsx)("div",{className:"tab-btn",children:Object(l.jsx)(m,{to:"/app/add",children:Object(l.jsx)("button",{"aria-label":"add",className:"pill",children:Object(l.jsx)("span",{className:"icon-union"})})})}),Object(l.jsx)("button",{"aria-label":"calendar",onClick:function(){return o(2)},className:["tab-btn",2===r?"active":""].join(" "),children:Object(l.jsx)("span",{className:"icon-calendar"})})]})};n(93);var p=function(e){var t=e.className,n=Object(O.a)(e,["className"]);return Object(l.jsxs)("div",Object(h.a)(Object(h.a)({className:["loader",t].join(" ")},n),{},{children:[Object(l.jsx)("svg",{viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("circle",{className:"length",fill:"none",strokeWidth:"8",strokeLinecap:"round",cx:"33",cy:"33",r:"28"})}),Object(l.jsx)("svg",{viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("circle",{fill:"none",strokeWidth:"8",strokeLinecap:"round",cx:"33",cy:"33",r:"28"})}),Object(l.jsx)("svg",{viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("circle",{fill:"none",strokeWidth:"8",strokeLinecap:"round",cx:"33",cy:"33",r:"28"})}),Object(l.jsx)("svg",{viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("circle",{fill:"none",strokeWidth:"8",strokeLinecap:"round",cx:"33",cy:"33",r:"28"})})]}))};n(94);var f=function(e){var t=e.variant,n=e.src,a=e.className;return Object(l.jsx)("div",{className:["avatar",t,a].join(" "),children:Object(l.jsx)("img",{alt:"avatar--profile",className:"avatar__img",src:n})})};n(95);var g=function(e){var t=e.className,n=Object(O.a)(e,["className"]);return Object(l.jsx)("div",Object(h.a)({className:["paper",t].join(" ")},n))};n(96);function N(e,t){var n=new Date(100,e.getMonth(),e.getDate()),a=new Date(100,t.getMonth(),t.getDate()),c=864e5,r=void 0;return(r=n<=a?a-n:365*c-(n-a))<=30*c?Math.ceil(r/c)+"d":r<=365*c?(r/(31*c)|0)+"m":"1y"}var y=function(e){var t=e.name,n=e.date,a=e.img,c=new Date;return Object(l.jsxs)(g,{className:"contact-item",children:[Object(l.jsx)(f,{src:a,variant:"sm"}),Object(l.jsxs)("div",{className:"contact-item__text-container",children:[Object(l.jsx)("div",{className:"text-title",children:t}),Object(l.jsxs)("div",{className:"text",children:[n.toLocaleString("default",{month:"long"})," ",n.getDate(),", ",n.getFullYear()]})]}),c.getMonth()===n.getMonth()&&c.getDate()===n.getDate()?Object(l.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAnCAYAAACIVoEIAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAHdElNRQflBgISOicwFQG2AAALVUlEQVRYw72Ye4xc9XXHP7/f7947Mzs7u559+7nGLn7bmKTGwbyaNiUtoPBIXVUtaVrhJhSoSlunQZGIixQlUUhTq1XSKK1DmhKlKClEVkWVFIGhMYS6jo0x2I3BmzX22t6d3dnZ2Zm5r9/v9I/ZxzixKaiRr3Tn3nncOZ9zzvf8zrnX4xe4Hd+5lumpdm9g0fBfBLn404gqRWHbny75ozPfO7r7ejY++sN39D/eLwrox395O/19T9Pe0XNLviv6ZKbTtYmwzKvU//r0nqVneovHD7zwqV3c+NlHLh9Ud+4I5fLgQGffxKeyXa6os83PlUlXONvYeW54xe8v7ngyumyROvLwbfQv+jcmJwe2ZzrSLbpDYbo9JBaYSAny6fsXdJ1dq7Q7fNmg2vVJht/YUOhdNvJhryDa6xJ0toG0BZBqTNV1+5l4jfHiywflmyn8drXYy7rVplNQfoREKegYnc2hPK2Vsu2en14+oWsSRHRWeZIxeVAqICmD6VAo5RCnrRN/Mo3d5YNKJY9L1DlnwzOotIgTJARV9JBIkTb0W0mYeSU1PjDx/4d6+qH7SOp1letfmNVB0IZSOaVNAKLE2tSlaXgsjmuHfnTV6I7uB/8umVSPeh22AwWgiEZNGFUyX/7m7i++sf2+zwGn3j3UU5+8nw13bGfk0IGC9vz1otQ1CJtQXAH0gmpHEQAgkoq1DWfT8jW3DZ96Jf7jn6w/cuRHKjl4s5erhLnQvFAf8b85Ndb9r3f/yUMy+Mgb7y59X7h2He//84dIw7CjfOqnd2W7ez+KyNWIdAhNvy+1iXNYm17rhSkMbbPxq5qwfEKG+hb+8ORV1++LE4kDlwKfeedQX/vwB7nu/gexYTiY6VjwqE2SO2wS+2It4hyIAAICMy8XbMoYlGco1DXRubPmfNnw5jkv13bV8l3FXPpRS/37No6f2Lvz4weU0Q3tZ7j1M7vfHuqaP9hBVJ1qb+9f+IWkUd+ehCFiLTg3AzEDogC5eNAUEFRjonKFsYkS54xj/RWDJlvsXJnWa/el9drvpY36czaO9qRh49m9n7i3bvwst35298Wh/HyBNGxsM75/WziVIDYFcYgI0hoZuYRrCowDfzJkql5jKpwms7iLfF8P2vPQvo+Xa+tMw/od6XT115N67Qc2DHeH1fL+px68x965e8+FUM9++YsUFy/hxLPfvzHf09vmBQGJMYi180BySZa5r73YoSbrhPUa00mDwrJV+Nkszjm076O0RnkeJpPNm1zbnfFU5Ua03mPjePfenR87mzq460tfa0LVSqO8tOcrOQNbi8tXku8bwCYJsQgkCc45UDKjq1aU1vApglqCrUxTb9QIlaNvcPGcL0opMAatNcoYtPEwQabbBMEnoqnKtrTReGj0XGn/k3+2g7v+5h/xkukqWukl4eT42rFjR8gVu8gtKAIQ12uQJIizLRqXWXHNB1AEb6JGMlVjuj6NbQtoG+hrOjTrjFJNuJndaE3GGKX94PqwPP7t/n7ZKVp/93s7P+68tF7DBJmNLkn6R48eIdNZpG/dJnILulBaE9fruCRGbIq4GRCRC2VmLaWJYaRxnvGkiltURBfaSZ1gZgKrRObAlDGI1s2UaoMyZqlS6itxdcp/9bXj3/JKB1+id8t1W8VZL67XGN6/D5um9K3dSK6ziPY84loNG0e4NIW5qM1HSmxKLZ5gIjhLvd/St36QIBOgVUv6WhM/Aye+D1oTaA1KdYu1n1+35soxb9mtv1Woj5zaIjZFRKiPjzH0/DOElUkGNl5NvqcP4wdEtWnSsIFLEsRanLPzEYtjsBbjGQqdbXQvGsBoNR+dSxWtUmjPQ5TCpwOXxEvSKHzES6qVK1yarhI7uwQo6pNlhvbvozJymsWbf5nulatoW1AkaWSJ6zXSKGwWgU0R55AoAufQRpPJdhAUOv9PoNYKFq3RnoeXy6OM2eK5ON4gNu0R55oGZryPw5CRo68w8dYw/avXsXDT1RSXLqetq5uk0SCuTZPUa7g0hLDRhNIGXShgspmL1ulFW5QIzNpOEurVqvFcEq91aZJxzjYj1aIVJ8JUqUSl9AKnX3uVvitXs3jjZroGVzQr1FlsZRxpTAOCMQaVzaG0QUTmtPR2QOIckqbYRp2pM6cYPjc27iljTOpnsFGMuGgeTGROzNY6yqOjTJwfZejQQbqWLGXhmnV0L1xMm43wTQx5he98UuXA2gui9LNws46LCJImxJOTjA+d4MjxE5x0/gHvvTseeDVM0kr9/NnO1574J5Kx8/MeCPOAKKw4qtUqk0ePMvT66+QKHXT199Pb10MxXyRfWEBG+5h8Hr+jkwsl0XTSOYdLU9KwQTgxQfnMKU69eZLXRkYZMVnX3rtgn9e1dDCjYEiuWLk5nihx6NuPzXsyk8jZ89lOKCji1FIrjXNudAyHwgQB2bY28oUCnUOjdPb2ki8UyAQBWinEpiRhSKNapTpZZqJUYnR8gpHKNGOJkGTb6OjKTmYzmRc9cW5AoIJSMvi+G9TQ/n2MvXEcEcG1REpmJpfmcf69Q5E4R61WpzQ1TTJyjuT1n+Bm4NEKUQoRSMWROCF2QiyQaoMYgxdkyPkevu+fbG9vP+4BHUBBnFO5YpEVN32AsZMnEJvMwwi4lrjNAULTuDSPKIWgES1N49YRp0IC2JnfWFSzUc2s6FprjNZ4nofv+4e++tg3Sh6gm2MuiBOWbtnGm/ufZ+TIj+c11dLjZgHmgaUJLOBm4Vuuk0ssmvPnTTDP9yUIghdv+8CviScix5RS+VmjmfYCG27fTml4iNp4qZkCpKVi5g065AK42bQ6hNbxUC4cFefAZnfj+5LPt+/N5rLPGM/gWWu/q7XeqlD3CqLEOQbWbuA9v/uHvPz416mOjs4L3M0bbtWZ+5njXMpbHGFWYy39D6VQWtPT319ZtX7956IoOr1500Y8Z13NpvZhY3QbqLtBDCh+6bqbyPX08epzz3D62GtUx8eJwwZpkmJdirUO6xxuriAuhLHOYUWwM3qSWZAWIIBiTy8r1qw5uXDxkhNRFHHPvffhPf/0Xq6/+ZbxNE0eNMaMKKUeAApKKRatWkP3suVUyhOMj41RKZeZnpqiVqlQGRtl/MxpJs6cIS1PEEcxiQip1kgmSzbfTqHQgQkyRGGDyvg49WoVZ5uNXM0Arb5qE4WOzkMP3POR8le/8a3m5Ll9x30ADJ84Phk5uysIMoe01g8rrTcgojzPo6u7h85iF9ZabJqSpAlRFDE9PU3p/Cinh4cZOX2aytQUThv8tjxBNoc2ptmunCNqNJgslSiPjRJHEYVikaUrVpIvFEQr9dKuz39JPnTLBy+87xu8cg2HX34xWb1+w3dG3jp1wPP9+7VSHwH6aRnslFJopfE9n0J7O5kgoLu3hxVr1jBVrVKr1QjDiDiJieOEKE6IkgRjDLl8nv6lS5uGPa9ZeUqN+7530PMM22761Z+/Q968dRsAh//rxZ/GUfxQR2fnE8aYj2mjbwfVd2FZt8xEWpPNBCB5fKNpBAFhGNLwouZcrhQhMWlqm017tvIQjNb/vqCz41gUxW//LGHzNdsA7Mv/ue+/4zg6XCgU/t4Y77e11h9SSl0p4nyRi65As97PRFShdXMeN9rgtNBynTPG/MDzvb86N1qKbv2Nm9/ZA46tN/wKQPrUvzx+aLIyeXjFipV/6/vB9Vqr3wT1PkGWOWvbnHNqrum23FBIyyTXLDgFEGul/scY83gmk3ms0WiMbXnPVVx7w03v7lHQnb9z96yNs//89X/4TqVSeXLhwMAiz/c2I1xrnXuvtemqJEkG4jjJxklTS0mckCQp1roaqFPGmINaqf8IAv+5FcsHT49PlOXTu3b9nL3/BeGsaCuZp9aZAAAAAElFTkSuQmCC",alt:"cake",className:"contact-item__right-icon"}):Object(l.jsx)("div",{className:"bd__text",children:N(c,n)})]})},w=n.p+"static/media/dog.bbf235eb.png";n(97);var A,k,C,S,D,q=function(e){var t=e.data;return e.loading?Object(l.jsx)(p,{}):(null===t||void 0===t?void 0:t.length)?t.map((function(e){var t=e._id,n=e.name,a=e.birthdate,c=e.picture,r=new Date(a);return Object(l.jsx)(m,{to:"/app/p/".concat(t),children:Object(l.jsx)(y,{name:n,date:r,img:c})},t)})):Object(l.jsxs)("div",{className:"contact-list__empty",children:[Object(l.jsx)("img",{className:"image",src:w,alt:"dog"}),Object(l.jsx)("h2",{className:"title",children:"No birthdays on this day"}),Object(l.jsxs)("h3",{className:"text-body",children:["Use the + button ",Object(l.jsx)("br",{}),"to add a new birthday"]})]})},B=n(12),P=n(29),T=n(16),M=Object(T.a)(A||(A=Object(P.a)(["\n    query dateDateBirthDays($date: Date!){   \n        getBirthdatesByDate(date: $date){\n           _id\n           name\n           birthdate\n           picture\n        }\n    }\n"]))),I=Object(T.a)(k||(k=Object(P.a)(["\n    query monthBirthdays($month: Int!){\n        getBirthdatesByMonth(month: $month){\n            _id\n            name\n            birthdate\n            picture\n        }\n    }\n"]))),E=Object(T.a)(C||(C=Object(P.a)(["\n    query getContactById($id: ID!){\n        getContactById(id: $id){\n            name\n            birthdate\n            picture\n        }\n    }\n"]))),Q=Object(T.a)(S||(S=Object(P.a)(["\n    query getContactsByName($name: String!){\n        getContactsByName(name: $name){\n            _id\n            name\n            birthdate\n            picture\n        }\n    }\n"]))),G=Object(T.a)(D||(D=Object(P.a)(["\n    query{\n        listAvatars\n    }\n"])));n(98);var U=function(e){var t=e.loading,n=e.onClick,c=e.inactive,r=Object(O.a)(e,["loading","onClick","inactive"]);return Object(l.jsx)("button",Object(h.a)(Object(h.a)({className:["btn",t?"loading":null,c?"inactive":null].join(" "),onClick:function(e){return t||c?e.preventDefault():void("function"===typeof n&&n(e))}},r),{},{children:Object(l.jsx)("div",{className:"btn_text",children:t?Object(l.jsxs)(a.Fragment,{children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]}):r.children})}))},R=n.p+"static/media/pageError.74025544.png";n(99);var L,X,Y=function(e){var t=e.error,n=e.action,a=Object(o.g)()||window.history,c=null,r="";switch(n){case"home":c=function(){return a.push("/app")},r="Go Home";break;case"reload":default:c=function(){return a.go(0)},r="Reload"}return Object(l.jsxs)("div",{className:"error-container",children:[Object(l.jsx)("div",{className:"error-image",children:Object(l.jsx)("img",{alt:"error",src:R})}),Object(l.jsx)("h1",{className:"error-title",children:"Uh oh!"}),Object(l.jsx)("p",{className:"error-body",children:t.split(".").map((function(e,t){return Object(l.jsxs)("span",{children:[e,"."]},t)}))}),Object(l.jsx)("div",{className:"btn-container",children:Object(l.jsx)(U,{onClick:c,children:r})})]})},K=n(35),W=n.n(K),J=n(41);function V(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length),c=0;c<n.length;++c)a[c]=n.charCodeAt(c);return a}function z(){return"serviceWorker"in navigator&&"PushManager"in window}function F(){return navigator.serviceWorker.register("/sw.js",{scope:"/"})}function Z(){var e,t;return null===(e=L)||void 0===e||null===(t=e.pushManager)||void 0===t?void 0:t.getSubscription()}function _(){return H.apply(this,arguments)}function H(){return(H=Object(J.a)(W.a.mark((function e(){var t,n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"BMb3p8KdGsCvKoeoT395nQbXst4_8sMGOV14SG6asjgjQih7AAWATF6gsYrEoG1oSqQqJYU7izT9brwPhwnT2W8",e.abrupt("return",null===(t=L)||void 0===t||null===(n=t.pushManager)||void 0===n?void 0:n.subscribe({userVisibleOnly:!0,applicationServerKey:V("BMb3p8KdGsCvKoeoT395nQbXst4_8sMGOV14SG6asjgjQih7AAWATF6gsYrEoG1oSqQqJYU7izT9brwPhwnT2W8")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return fetch("/push/subscribe",{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}})}function ee(){return(ee=Object(J.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z()){e.next=24;break}return e.prev=1,e.next=4,F();case 4:L=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:return e.next=11,Z();case 11:if(null!==(X=e.sent)&&void 0!==X){e.next=22;break}return e.prev=13,e.next=16,_();case 16:$(X=e.sent),e.next=22;break;case 20:e.prev=20,e.t1=e.catch(13);case 22:e.next=25;break;case 24:console.warn("Push messaging is not supported");case 25:case"end":return e.stop()}}),e,null,[[1,7],[13,20]])})))).apply(this,arguments)}n(50);!function(){ee.apply(this,arguments)}();var te,ne=function(){var e=Object(a.useState)(new Date),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(1),s=Object(i.a)(r,2),o=s[0],b=s[1],h=M,O={date:n};2===o&&(h=I,O={month:n.getMonth()});var m,p=Object(B.useQuery)(h,{variables:O}),f=p.loading,g=p.data,N=p.error,y=1===o?u(m=n,new Date)?"Today":new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(m):function(e){return new Intl.DateTimeFormat("en",{month:"short"}).format(e)}(n)+" "+n.getFullYear();return N?Object(l.jsx)(Y,{error:N.message}):Object(l.jsxs)("div",{className:"app",children:[Object(l.jsxs)(v,{children:[Object(l.jsx)(j,{title:y}),Object(l.jsx)(d,{variant:2===o?"full":"partial",value:n,onChange:function(e){c(e)}})]}),Object(l.jsx)("main",{className:"main",children:Object(l.jsx)("div",{className:"contact-list__container",children:Object(l.jsx)(q,{data:(null===g||void 0===g?void 0:g.getBirthdatesByDate)||(null===g||void 0===g?void 0:g.getBirthdatesByMonth)||[],loading:f})})}),Object(l.jsx)(x,{onChange:function(e){1===e&&c(new Date),b(e)}})]})},ae=n(37);n(106);function ce(){var e=Object(o.g)(),t=Object(o.h)().state;return te=function(){(null===t||void 0===t?void 0:t.from)?e.goBack():e.push("/app")},Object(l.jsx)("button",{"aria-label":"back",onClick:te,className:"back-btn",children:Object(l.jsx)("span",{className:"icon-arrow-circle-left"})})}n(107);var re=function(e){var t=e.label,n=e.error,a=Object(O.a)(e,["label","error"]);return Object(l.jsxs)("div",{className:n?"error":"",children:[Object(l.jsx)("label",{htmlFor:"".concat(t,"-1"),className:"label",children:t}),Object(l.jsx)("input",Object(h.a)({id:"".concat(t,"-1"),className:"input"},a))]})};n(108);var ie=function(e){var t=e.className,n=e.children;return Object(l.jsx)("fieldset",{className:["fieldset",t].join(" "),children:n})};n(109);var se,oe,le,je=function(e){var t=e.className,n=Object(O.a)(e,["className"]);return Object(l.jsx)("div",Object(h.a)({className:["error-box",t].join(" ")},n))},de=Object(T.a)(se||(se=Object(P.a)(["\nmutation addIndividual($name: String! $date: Date! $picture: String!){\n    createContact(name: $name, birthdate: $date, picture: $picture){\n        _id\n    }\n}\n"]))),ue=Object(T.a)(oe||(oe=Object(P.a)(["\nmutation deleteByID($id: ID!){\n    deleteContact(id: $id){\n        _id\n    }\n}"]))),be=Object(T.a)(le||(le=Object(P.a)(["\nmutation updateByID($id: ID! $name: String $birthdate: Date $picture: String){\n    updateContact(id: $id, name: $name, birthdate: $birthdate, picture: $picture){\n        _id\n        name\n    }\n}"])));n(110);var he=function(e){var t=e.onClose,n=e.onChange,c=e.value,r=Object(B.useQuery)(G),s=r.data,o=r.loading,j=r.error,d=Object(a.useState)(c),u=Object(i.a)(d,2),b=u[0],h=u[1];return o?Object(l.jsx)(p,{}):j?Object(l.jsx)(Y,{error:j}):Object(l.jsx)("div",{className:"avatar-editor",children:Object(l.jsxs)(v,{variant:"fluid",children:[Object(l.jsx)("div",{className:"close-btn-container",children:Object(l.jsx)("button",{className:"close-button",children:Object(l.jsx)("span",{onClick:t,className:"icon-close-square"})})}),Object(l.jsx)(f,{src:b,className:"m-auto",variant:"lg"}),Object(l.jsx)("div",{className:"avatars-container",children:(s.listAvatars||[]).map((function(e,t){return Object(l.jsx)("span",{className:b===e?"active":"",onClick:(n=e,function(){h(n)}),children:Object(l.jsx)(f,{className:"m-auto",variant:"sm",src:e})},t);var n}))}),Object(l.jsx)("div",{className:"btn-container",children:Object(l.jsx)(U,{onClick:function(e){n(b),t()},inactive:c===b,children:"Save"})})]})})};function Oe(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({name:"",date:"",picture:"/avatars/0"}),s=Object(i.a)(r,2),o=s[0],j=s[1],d=Object(a.useState)(!1),u=Object(i.a)(d,2),b=u[0],O=u[1],m=Object(B.useMutation)(de,{update:function(){te()},onError:function(e){c(e.graphQLErrors[0].extensions.errors)},variables:{name:o.name,date:o.date.replace(/-/g,"/"),picture:o.picture}}),x=Object(i.a)(m,2),p=x[0],g=x[1].loading,N=function(e){j(Object(h.a)(Object(h.a)({},o),{},Object(ae.a)({},e.target.name,e.target.value)))};return b?Object(l.jsx)(he,{value:o.picture,onClose:function(){return O(!1)},onChange:function(e){return j(Object(h.a)(Object(h.a)({},o),{},{picture:e}))}}):Object(l.jsx)("div",{className:"add",children:Object(l.jsxs)(v,{variant:"fluid",children:[Object(l.jsx)(ce,{}),Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault(),p()},className:"add-form",children:Object(l.jsxs)(v,{children:[Object.keys(n).length>0&&Object(l.jsx)(je,{className:"errmsg",children:Object(l.jsx)("ul",{children:Object.values(n).map((function(e,t){return Object(l.jsx)("li",{children:e},t)}))})}),Object(l.jsx)(f,{variant:"lg",src:o.picture,className:"m-auto"}),Object(l.jsx)(ie,{className:"edit-avatar",children:Object(l.jsxs)("button",{onClick:function(e){e.preventDefault(),O(!0)},className:"edit-button",children:[Object(l.jsx)("span",{className:"icon-edit"})," Edit Avatar"]})}),Object(l.jsx)(ie,{children:Object(l.jsx)(re,{error:!!n.name,onChange:N,value:o.name,label:"Name",name:"name",placeholder:"Ex: John Doe"})}),Object(l.jsx)(ie,{children:Object(l.jsx)(re,{error:!!n.birthdate,onChange:N,value:o.date,type:"date",name:"date",label:"Birthdate"})}),Object(l.jsx)("div",{className:"button-container",children:Object(l.jsx)(U,{loading:g,children:"ADD"})})]})})]})})}var ve=n(22),me=n.n(ve);n(111);function xe(e){var t=e.className,n=e.date,a=Object(O.a)(e,["className","date"]);return Object(l.jsxs)(g,Object(h.a)(Object(h.a)({className:["birthday-card",t].join(" ")},a),{},{children:[Object(l.jsxs)("div",{className:"birthday-card__label",children:[Object(l.jsx)("span",{className:"icon-calendar"}),"Birthdate"]}),Object(l.jsxs)("div",{children:[n.toLocaleString("default",{month:"long"})," ",n.getDate(),", ",n.getFullYear()]})]}))}xe.prototype={className:me.a.string,date:me.a.instanceOf(Date)};var pe=xe;function fe(){var e,t,n,c=Object(o.i)().id,r=Object(a.useState)({delete:null,query:null}),s=Object(i.a)(r,2),j=s[0],d=s[1],u=Object(B.useQuery)(E,{onError:function(e){d({query:e.message})},variables:{id:c}}),b=u.data,h=u.loading,O=Object(B.useMutation)(ue,{update:function(){te()},variables:{id:c}}),x=Object(i.a)(O,2),g=x[0],N=x[1].loading;if(h)return Object(l.jsx)(p,{});if(j.query)return Object(l.jsx)(Y,{error:j.query});var y=new Date(null===b||void 0===b||null===(e=b.getContactById)||void 0===e?void 0:e.birthdate);return Object(l.jsx)("div",{className:"profile",children:Object(l.jsxs)(v,{variant:"fluid",children:[Object(l.jsx)(ce,{}),Object(l.jsxs)(v,{children:[Object(l.jsx)(f,{variant:"md",className:"m-auto",src:null===b||void 0===b||null===(t=b.getContactById)||void 0===t?void 0:t.picture}),Object(l.jsx)("div",{className:"small_text",children:Object(l.jsx)(m,{to:"/app/edit/".concat(c),className:"link",children:" Edit "})}),Object(l.jsxs)("div",{className:"profile__container",children:[Object(l.jsxs)("h1",{className:"title",children:[" ",null===b||void 0===b||null===(n=b.getContactById)||void 0===n?void 0:n.name," "]}),Object(l.jsxs)("h3",{className:"text-body",children:["Today is ",new Date(new Date-y).getFullYear()-1970," y.o"]}),Object(l.jsx)(pe,{date:y,className:"bd-card"}),Object(l.jsx)("div",{className:"button-container",children:Object(l.jsx)(U,{onClick:g,loading:!!N,children:"DELETE"})})]})]})]})})}function ge(){var e,t,n=Object(o.i)().id,c=Object(a.useState)({update:{},query:null}),r=Object(i.a)(c,2),s=r[0],j=r[1],d=Object(a.useState)({name:"",date:"",picture:"/avatars/0"}),u=Object(i.a)(d,2),O=u[0],m=u[1],x=Object(a.useState)(!1),g=Object(i.a)(x,2),N=g[0],y=g[1],w=Object(B.useQuery)(E,{onCompleted:function(e){var t,n,a;m({name:null===e||void 0===e||null===(t=e.getContactById)||void 0===t?void 0:t.name,date:null===e||void 0===e||null===(n=e.getContactById)||void 0===n?void 0:n.birthdate,picture:null===e||void 0===e||null===(a=e.getContactById)||void 0===a?void 0:a.picture})},onError:function(e){j({query:e.message})},variables:{id:n}}),A=w.data,k=w.loading,C=Object(B.useMutation)(be,{update:function(){te()},onError:function(e){var t;j({update:null===e||void 0===e||null===(t=e.graphQLErrors[0])||void 0===t?void 0:t.extensions.errors})},variables:function(){var e,t,a,c,r=null,i=null,s=null;O.name!==(null===A||void 0===A||null===(e=A.getContactById)||void 0===e?void 0:e.name)&&(i=O.name);O.date!==(null===A||void 0===A||null===(t=A.getContactById)||void 0===t?void 0:t.birthdate)&&(r=null===(c=O.date)||void 0===c?void 0:c.replace(/-/g,"/"));O.picture!==(null===A||void 0===A||null===(a=A.getContactById)||void 0===a?void 0:a.picture)&&(s=O.picture);return{id:n,birthdate:r,name:i,picture:s}}()}),S=Object(i.a)(C,2),D=S[0],q=S[1].loading;var P=function(e){m(Object(h.a)(Object(h.a)({},O),{},Object(ae.a)({},e.target.name,e.target.value)))};return s.query?Object(l.jsx)(Y,{error:s.query}):k?Object(l.jsx)(p,{}):N?Object(l.jsx)(he,{value:O.picture,onClose:function(){return y(!1)},onChange:function(e){return m(Object(h.a)(Object(h.a)({},O),{},{picture:e}))}}):Object(l.jsx)("div",{className:"edit",children:Object(l.jsxs)(v,{variant:"fluid",children:[Object(l.jsx)(ce,{}),Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault(),D()},className:"edit-form",children:Object(l.jsxs)(v,{children:[Object.keys((null===s||void 0===s?void 0:s.update)||{}).length>0&&Object(l.jsx)(je,{className:"errmsg",children:Object(l.jsx)("ul",{children:Object.values(s.update).map((function(e,t){return Object(l.jsx)("li",{children:e},t)}))})}),Object(l.jsx)(f,{variant:"lg",src:O.picture,className:"m-auto"}),Object(l.jsx)(ie,{className:"edit-avatar",children:Object(l.jsxs)("button",{onClick:function(e){e.preventDefault(),y(!0)},className:"edit-button",children:[Object(l.jsx)("span",{className:"icon-edit"})," Edit Avatar"]})}),Object(l.jsx)(ie,{children:Object(l.jsx)(re,{error:!!(null===s||void 0===s||null===(e=s.update)||void 0===e?void 0:e.name),onChange:P,value:O.name,label:"Name",name:"name",placeholder:"Ex: John Doe"})}),Object(l.jsx)(ie,{children:Object(l.jsx)(re,{error:!!(null===s||void 0===s||null===(t=s.update)||void 0===t?void 0:t.birthdate),onChange:P,value:b(new Date(O.date)),type:"date",name:"date",label:"Birthdate"})}),Object(l.jsx)("div",{className:"button-container",children:Object(l.jsx)(U,{loading:q,children:"UPDATE"})})]})})]})})}function Ne(){return Object(l.jsx)("div",{children:Object(l.jsx)(v,{variant:"fluid",children:Object(l.jsx)(ce,{})})})}n(112);function ye(e){return Object(l.jsxs)("label",{className:"search-bar",children:[Object(l.jsx)("span",{className:"icon-search"}),Object(l.jsx)("input",Object(h.a)({type:"search"},e))]})}var we=n.p+"static/media/search404.c8811a3e.png";n(113);function Ae(){var e,t=new URLSearchParams(Object(o.h)().search).get("q"),n=Object(B.useQuery)(Q,{variables:{name:t}}),a=n.data;return n.loading?Object(l.jsx)(p,{}):t&&(null===a||void 0===a?void 0:a.getContactsByName.length)<1?Object(l.jsxs)("div",{className:"search-results__empty",children:[Object(l.jsx)("img",{className:"image",alt:"not-found",src:we}),Object(l.jsxs)("h2",{children:["Sorry we could find any results for ",Object(l.jsxs)("strong",{children:['"',t,'"']})]}),Object(l.jsx)("p",{className:"text-body",children:"Please check spelling or try a different name"})]}):(t&&a.getContactsByName.length>=1&&(e=a.getContactsByName.map((function(e,t){var n=new Date(e.birthdate);return Object(l.jsx)(m,{className:"no-decoration",to:"/app/p/".concat(e._id),children:Object(l.jsx)(y,{name:e.name,date:n,img:e.picture})},t)}))),Object(l.jsx)("div",{className:"search-results",children:e}))}function ke(){var e=new URLSearchParams(Object(o.h)().search).get("q"),t=Object(o.g)(),n=Object(a.useState)(e||""),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(l.jsx)("div",{className:"search",children:Object(l.jsxs)(v,{variant:"fluid",children:[Object(l.jsx)(ce,{}),Object(l.jsxs)("form",{method:"GET",onSubmit:function(e){e.preventDefault(),t.push({pathname:"/app/search",search:"?q=".concat(encodeURI(r))})},className:"search-form",children:[Object(l.jsx)(ye,{value:r,name:"q",onChange:function(e){s(e.target.value)},placeholder:"Search Name"}),e&&Object(l.jsx)(Ae,{})]})]})})}var Ce=Object(a.createContext)({token:null}),Se=function(e,t){switch(t.type){case"ACCESS_TOKEN":return Object(h.a)(Object(h.a)({},e),{},{token:t.payload});default:return e}},De=function(e){var t=e.children,n=Object(a.useReducer)(Se,{token:null}),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(l.jsx)(Ce.Provider,{value:{appState:r,setAuthToken:function(e){s({type:"ACCESS_TOKEN",payload:e})}},children:t})},qe=function(){return Object(a.useContext)(Ce)};n(114);function Be(){return Object(l.jsxs)("button",{type:"button",className:"google-button",children:[Object(l.jsx)("span",{className:"google-button__icon",children:Object(l.jsxs)("svg",{viewBox:"0 0 366 372",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M125.9 10.2c40.2-13.9 85.3-13.6 125.3 1.1 22.2 8.2 42.5 21 59.9 37.1-5.8 6.3-12.1 12.2-18.1 18.3l-34.2 34.2c-11.3-10.8-25.1-19-40.1-23.6-17.6-5.3-36.6-6.1-54.6-2.2-21 4.5-40.5 15.5-55.6 30.9-12.2 12.3-21.4 27.5-27 43.9-20.3-15.8-40.6-31.5-61-47.3 21.5-43 60.1-76.9 105.4-92.4z",id:"Shape",fill:"#EA4335"}),Object(l.jsx)("path",{d:"M20.6 102.4c20.3 15.8 40.6 31.5 61 47.3-8 23.3-8 49.2 0 72.4-20.3 15.8-40.6 31.6-60.9 47.3C1.9 232.7-3.8 189.6 4.4 149.2c3.3-16.2 8.7-32 16.2-46.8z",id:"Shape",fill:"#FBBC05"}),Object(l.jsx)("path",{d:"M361.7 151.1c5.8 32.7 4.5 66.8-4.7 98.8-8.5 29.3-24.6 56.5-47.1 77.2l-59.1-45.9c19.5-13.1 33.3-34.3 37.2-57.5H186.6c.1-24.2.1-48.4.1-72.6h175z",id:"Shape",fill:"#4285F4"}),Object(l.jsx)("path",{d:"M81.4 222.2c7.8 22.9 22.8 43.2 42.6 57.1 12.4 8.7 26.6 14.9 41.4 17.9 14.6 3 29.7 2.6 44.4.1 14.6-2.6 28.7-7.9 41-16.2l59.1 45.9c-21.3 19.7-48 33.1-76.2 39.6-31.2 7.1-64.2 7.3-95.2-1-24.6-6.5-47.7-18.2-67.6-34.1-20.9-16.6-38.3-38-50.4-62 20.3-15.7 40.6-31.5 60.9-47.3z",fill:"#34A853"})]})}),Object(l.jsx)("span",{className:"google-button__text",children:"Sign in with Google"})]})}function Pe(){var e=qe().appState,t=Object(o.h)().state;return e.token?Object(l.jsx)(o.a,{to:(null===t||void 0===t?void 0:t.from)||"/app"}):Object(l.jsx)("div",{className:"login",children:Object(l.jsxs)(v,{className:"text-center",children:[Object(l.jsx)("h1",{children:"Happybd"}),Object(l.jsx)("a",{className:"no-decoration",href:"http://localhost:5000/auth/login",children:Object(l.jsx)(Be,{})})]})})}function Te(e){var t=e.children,n=Object(O.a)(e,["children"]),a=qe().appState;return Object(l.jsx)(o.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){var n=e.location;return a.token?t:Object(l.jsx)(o.a,{to:{pathname:"/app/login",state:{from:n}}})}}))}Te.prototype={children:me.a.oneOf([me.a.arrayOf(me.a.node),me.a.node])};var Me=Te,Ie=n(75),Ee=n(74);var Qe=function(e){return function(t){var n=t.apolloClient,a=t.apolloState,c=Object(O.a)(t,["apolloClient","apolloState"]),r=qe(),i=r.appState,s=r.setAuthToken,o=n||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=(new B.InMemoryCache).restore(e),c=Object(B.createHttpLink)({uri:"/graphql"}),r=new B.ApolloLink((function(e,n){return new B.Observable((function(a){var c;return Promise.resolve(e).then((function(e){e.setContext({headers:{authorization:t?"Bearer ".concat(t):""}})})).then((function(){c=n(e).subscribe({next:a.next.bind(a),error:a.error.bind(a),complete:a.complete.bind(a)})})).catch(a.error.bind(a)),function(){c&&c.unsubscribe()}}))})),i=new Ie.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){if(!t)return!0;try{var e=Object(Ee.a)(t).exp;return Date.now()<=1e3*e}catch(n){return!1}},fetchAccessToken:function(){var e=Object(J.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/refresh_token",{method:"POST",credentials:"include"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),handleFetch:function(e){n(e)},handleError:function(e){console.error("Cannot refresh access token:",e)}});return new B.ApolloClient({link:B.ApolloLink.from([i,r,c]),cache:a})}(a,i.token,s);return Object(l.jsx)(B.ApolloProvider,{client:o,children:Object(l.jsx)(e,Object(h.a)({},c))})}}((function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),j=Object(i.a)(r,2),d=j[0],u=j[1],b=qe().setAuthToken;return Object(a.useEffect)((function(){c(!0),fetch("/refresh_token",{method:"POST"}).then((function(e){return e.json()})).then((function(e){var t=e.accessToken;b(t),c(!1)})).catch((function(e){u(e.message),c(!1)}))}),[]),n?Object(l.jsx)(p,{}):d?Object(l.jsx)(Y,{error:d,action:"reload"}):Object(l.jsx)(s.a,{children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(Me,{exact:!0,path:"/app",children:Object(l.jsx)(ne,{})}),Object(l.jsx)(o.b,{exact:!0,path:"/app/login",children:Object(l.jsx)(Pe,{})}),Object(l.jsx)(Me,{exact:!0,path:"/app/add",children:Object(l.jsx)(Oe,{})}),Object(l.jsx)(Me,{exact:!0,path:"/app/settings",children:Object(l.jsx)(Ne,{})}),Object(l.jsx)(Me,{exact:!0,path:"/app/p/:id",children:Object(l.jsx)(fe,{})}),Object(l.jsx)(Me,{exact:!0,path:"/app/edit/:id",children:Object(l.jsx)(ge,{})}),Object(l.jsx)(Me,{path:"/app/search",children:Object(l.jsx)(ke,{})}),Object(l.jsx)(o.b,{path:"*",children:Object(l.jsx)(Y,{error:"Page not found",action:"home"})})]})})}));r.a.render(Object(l.jsx)(De,{children:Object(l.jsx)(Qe,{})}),document.getElementById("root"))},50:function(e,t,n){},76:function(e,t,n){},81:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.b7f40120.chunk.js.map